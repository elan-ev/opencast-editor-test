(this.webpackJsonpklipping=this.webpackJsonpklipping||[]).push([[0],{41:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);n(5);var r,a=n(1),i=n.n(a),o=n(15),c=n.n(o),s=(n(41),n(8)),d=n(6),l=n(3),u=n(2),b=n(7);!function(e){e.cutting="Cutting",e.metadata="Metadata",e.thumbnail="Thumbnail",e.finish="Finish"}(r||(r={}));var f={value:r.cutting},p=Object(b.c)({name:"mainMenuState",initialState:f,reducers:{setState:function(e,t){e.value=t.payload}}}),j=p.actions.setState,g=function(e){return e.mainMenuState.value},O=p.reducer,m=n(0),v=function(e){var t=e.iconName,n=e.stateName,r=Object(u.b)(),a=Object(u.c)(g),i=Object(s.a)(Object(s.a)({backgroundColor:"snow",borderRadius:"10px",fontSize:"medium",width:"100%",height:"100px",cursor:"pointer",transitionDuration:"0.3s",transitionProperty:"transform"},a===n&&{backgroundColor:"lightblue"}),{},{"&:hover":{transform:"scale(1.1)"},"&:active":{transform:"scale(0.9)"},display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",gap:"10px"});return Object(m.b)("div",{css:i,title:n,onClick:function(){r(j(n))}},Object(m.b)(d.a,{icon:t,size:"2x"}),Object(m.b)("div",null,n))},x=function(){return Object(m.b)("div",{style:{backgroundColor:"snow",borderRight:"1px solid #BBB",width:"100px",display:"flex",flexDirection:"column",flexShrink:0,alignItems:"center",padding:"20px",gap:"30px"},title:"MainMenu"},Object(m.b)(v,{iconName:l.i,stateName:r.cutting}),Object(m.b)(v,{iconName:l.j,stateName:r.metadata}),Object(m.b)(v,{iconName:l.l,stateName:r.thumbnail}),Object(m.b)(v,{iconName:l.p,stateName:r.finish}))},h=n(17),y=n(11),w=n.n(y),S=n(13),C=n(35);function k(e){return I.apply(this,arguments)}function I(){return(I=Object(S.a)(w.a.mark((function e(t){var n,r,a,i,o,c,d,l,u,b,f=arguments;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:{},r=n.body,a=Object(C.a)(n,["body"]),i={"Content-Type":"application/json"},o=btoa(unescape(encodeURIComponent("admin:opencast"))),c={Authorization:"Basic ".concat(o)},d=Object(s.a)(Object(s.a)({method:r?"POST":"GET"},a),{},{headers:Object(s.a)(Object(s.a)(Object(s.a)({},i),a.headers),c)}),r&&(d.body=JSON.stringify(r)),e.prev=6,e.next=9,window.fetch(t,d);case 9:return b=e.sent,e.next=12,b.text();case 12:if(u=e.sent,l=u.length?JSON.parse(u):"",!b.ok){e.next=16;break}return e.abrupt("return",l);case 16:throw new Error(b.statusText);case 19:return e.prev=19,e.t0=e.catch(6),e.abrupt("return",Promise.reject(e.t0.message?e.t0.message:l));case 22:case"end":return e.stop()}}),e,null,[[6,19]])})))).apply(this,arguments)}k.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return k(e,Object(s.a)(Object(s.a)({},t),{},{method:"GET"}))},k.post=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return k(e,Object(s.a)(Object(s.a)({},n),{},{body:t}))};var A=function(e,t){var n=Math.pow(10,t);return Math.round((e+Number.EPSILON)*n)/n},P={isPlaying:!1,currentlyAt:0,segments:[{id:Object(b.d)(),start:0,end:1,deleted:!1}],activeSegmentIndex:0,selectedWorkflowIndex:0,videoURLs:[],videoCount:0,duration:0,title:"",presenters:[],workflows:[],status:"idle",error:void 0},D=Object(b.b)("video/fetchVideoInformation",Object(S.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("https://legacy.opencast.org/admin-ng/tools/ID-dual-stream-demo/editor.json");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),N=Object(b.c)({name:"videoState",initialState:P,reducers:{setIsPlaying:function(e,t){e.isPlaying=t.payload},setCurrentlyAt:function(e,t){e.currentlyAt=A(t.payload,3),R(e)},setCurrentlyAtInSeconds:function(e,t){e.currentlyAt=A(1e3*t.payload,3),R(e)},addSegment:function(e,t){e.segments.push(t.payload)},cut:function(e){if(e.segments[e.activeSegmentIndex].start===e.currentlyAt||e.segments[e.activeSegmentIndex].end===e.currentlyAt)return e;var t={id:Object(b.d)(),start:e.segments[e.activeSegmentIndex].start,end:e.currentlyAt,deleted:!0},n={id:Object(b.d)(),start:e.currentlyAt,end:e.segments[e.activeSegmentIndex].end,deleted:!0};e.segments.splice(e.activeSegmentIndex,1,t,n)},markAsDeletedOrAlive:function(e){e.segments[e.activeSegmentIndex].deleted=!e.segments[e.activeSegmentIndex].deleted},setSelectedWorkflowIndex:function(e,t){e.selectedWorkflowIndex=t.payload},mergeLeft:function(e){W(e,e.activeSegmentIndex,e.activeSegmentIndex-1)},mergeRight:function(e){W(e,e.activeSegmentIndex,e.activeSegmentIndex+1)}},extraReducers:function(e){e.addCase(D.pending,(function(e,t){e.status="loading"})),e.addCase(D.fulfilled,(function(e,t){e.status="success",e.videoURLs=t.payload.previews.reduce((function(e,t){return e.push(t.uri),e}),[]),e.videoCount=t.payload.previews.length,e.duration=t.payload.duration,e.title=t.payload.title,e.presenters=t.payload.presenters,e.segments=z(t.payload.segments,t.payload.duration),e.workflows=t.payload.workflows.sort((function(e,t){return e.displayOrder>t.displayOrder?1:e.displayOrder<t.displayOrder?-1:0}))})),e.addCase(D.rejected,(function(e,t){e.status="failed",e.error=t.error.message}))}}),R=function(e){e.activeSegmentIndex=e.segments.findIndex((function(t){return t.start<=e.currentlyAt&&t.end>=e.currentlyAt})),e.activeSegmentIndex<0&&(e.activeSegmentIndex=0)},z=function(e,t){var n=[];return 0===e.length&&n.push({id:Object(b.d)(),start:0,end:t,deleted:!1}),e.forEach((function(e){n.push({id:Object(b.d)(),start:e.start,end:e.end,deleted:e.deleted})})),n},W=function(e,t,n){n<0||n>e.segments.length-1||(e.segments[t].start=Math.min(e.segments[t].start,e.segments[n].start),e.segments[t].end=Math.max(e.segments[t].end,e.segments[n].end),e.segments.splice(n,1),R(e))},B=N.actions,M=B.setIsPlaying,T=B.setCurrentlyAt,E=B.setCurrentlyAtInSeconds,L=(B.addSegment,B.cut),V=B.markAsDeletedOrAlive,F=B.setSelectedWorkflowIndex,q=B.mergeLeft,U=B.mergeRight,J=function(e){return e.videoState.isPlaying},Y=function(e){return e.videoState.currentlyAt},G=function(e){return e.videoState.currentlyAt/1e3},H=function(e){return e.videoState.segments},_=function(e){return e.videoState.activeSegmentIndex},K=function(e){return!e.videoState.segments[e.videoState.activeSegmentIndex].deleted},Q=function(e){return e.videoState.selectedWorkflowIndex},X=function(e){return e.videoState.videoURLs},Z=function(e){return e.videoState.videoCount},$=function(e){return e.videoState.duration},ee=function(e){return e.videoState.duration/1e3},te=function(e){return e.videoState.title},ne=function(e){return e.videoState.presenters},re=function(e){return e.videoState.workflows},ae=N.reducer,ie=n(32),oe=n.n(ie);var ce=function(e){var t=e.url,n=e.isMuted,r=Object(u.b)(),i=Object(u.c)(J),o=Object(u.c)(G),c=Object(u.c)(ee),s=Object(a.useState)(!1),d=Object(h.a)(s,2),l=d[0],b=d[1],f=Object(a.useRef)(null);return Object(a.useEffect)((function(){!i&&f.current&&l&&f.current.seekTo(o,"seconds")})),Object(m.b)(oe.a,{url:t,ref:f,width:"100%",height:"auto",playing:i,muted:n,onProgress:function(e){A(o,3)!==A(e.playedSeconds,3)&&r(E(e.playedSeconds))},progressInterval:100,onReady:function(){b(!0)},onEnded:function(){r(M(!1)),r(E(c))}})},se={name:"vyrci0",styles:"cursor:pointer;transition-duration:0.3s;transition-property:transform;&:hover{transform:scale(1.1);}&:active{transform:scale(0.9);}"},de={name:"1gnq0uh",styles:"cursor:pointer;transition-duration:0.3s;transition-property:transform;&:hover{transform:scale(1.05);}"},le={name:"1r139wu",styles:"display:inline-block;width:110px;"},ue=function(){var e=Object(u.b)(),t=Object(u.c)(J),n=Object(u.c)(Y),r=Object(a.useState)(!1),i=Object(h.a)(r,2),o=i[0],c=i[1],s=Object(m.a)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",padding:"10px"},""),b=Object(m.a)({display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",padding:"10px",gap:"50px"},""),f=se,p=de;return Object(m.b)("div",{css:s,title:"Video Controls"},Object(m.b)("div",{css:b,title:"Video Controls Top Row"},Object(m.b)("div",{style:{display:"flex",gap:"10px"}},Object(m.b)(d.a,{icon:l.g,size:"1x"}),Object(m.b)(d.a,{css:p,icon:o?l.v:l.u,size:"1x",onClick:function(){return c(!o)}})),Object(m.b)(d.a,{css:f,icon:t?l.k:l.m,size:"2x",onClick:function(){return e(M(!t))}}),Object(m.b)("div",{css:le},new Date(n||0).toISOString().substr(11,12))))},be={name:"iqjf8m",styles:"font-size:large;"},fe=function(){var e=Object(u.c)(te),t=Object(u.c)(ne),n=be;return Object(m.b)("div",{title:"Video Area Header"},Object(m.b)("div",{css:n,title:"Video Title"},e),Object(m.b)("div",{title:"Video Presenters"},"by ",t.join(", ")))},pe=function(){var e,t=Object(u.b)(),n=Object(u.c)(X),r=Object(u.c)(Z),i=Object(u.c)((function(e){return e.videoState.status})),o=Object(u.c)((function(e){return e.videoState.error}));Object(a.useEffect)((function(){"idle"===i&&t(D())}),[i,t]),"loading"===i?e=Object(m.b)("div",{className:"loader"},"Loading..."):"success"===i?e="":"failed"===i&&(e=Object(m.b)("div",null,o));for(var c=[],s=0;s<r;s++)c.push(Object(m.b)(ce,{key:s,url:n[s],isMuted:0===s}));var d=Object(m.a)({backgroundColor:"snow",display:"flex",width:"auto",flex:"7",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"10px",borderBottom:"1px solid #BBB"},""),l=Object(m.a)({backgroundColor:"black",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%"},"");return Object(m.b)("div",{css:d,title:"Video Area"},e,Object(m.b)(fe,null),Object(m.b)("div",{css:l,title:"Video Player Area"},c),Object(m.b)(ue,null))},je=n(16),ge=n(33),Oe=n.n(ge),me=n(34),ve=n.p+"static/media/placeholder_waveform.d23b087b.png";var xe={name:"190c1k3",styles:"height:230px;"},he={name:"2q5poe",styles:"transform:scaleY(1.5) rotate(90deg);padding:5px;"},ye=function(e){var t=e.timelineWidth,n=Object(u.b)(),r=Object(u.c)(J),i=Object(u.c)(Y),o=Object(u.c)($),c=Object(a.useState)({x:0,y:0}),s=Object(h.a)(c,2),b=s[0],f=s[1],p=Object(a.useState)(!1),j=Object(h.a)(p,2),g=j[0],O=j[1],v=Object(a.useRef)(0);Object(a.useEffect)((function(){i!==v.current&&(x(),v.current=i)}));var x=function(){var e=b.y;f({x:i/o*t,y:e})},y=Object(m.a)({backgroundColor:"rgba(255, 0, 0, 1)",height:"250px",width:"1px",position:"absolute",zIndex:2,boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)",display:"flex",justifyContent:"center",alignItems:"center"},""),w=Object(m.a)({backgroundColor:"rgba(255, 255, 255, 1)",borderRadius:"10px",height:"50px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)",cursor:g?"grabbing":"grab",transitionDuration:"0.3s",transitionProperty:"transform","&:hover":{transform:"scale(1.1)"},"&:active":{transform:"scale(0.9)"}},""),S=he;return Object(m.b)(Oe.a,{onStart:function(){O(!0)},onStop:function(e,r){var a=r.x,i=r.y;f({x:a,y:i}),n(T(a/t*o)),O(!1)},axis:"x",bounds:"parent",position:b,disabled:r},Object(m.b)("div",{css:y,title:"Scrubber"},Object(m.b)("div",{css:w,title:"dragHandle"},Object(m.b)(d.a,{css:S,icon:l.a,size:"1x"}))))},we=function(e){e.timelineWidth;var t=Object(u.c)(H),n=Object(u.c)($),r=Object(u.c)(_),a=function(e,t){return e||t?e&&!t?"rgba(255, 0, 0, 0.4)":!e&&t?"rgba(0, 0, 200, 0.4)":e&&t?"rgba(200, 0, 0, 0.4)":void 0:"rgba(0, 0, 255, 0.4)"},i=Object(m.a)({display:"flex",flexDirection:"row",paddingTop:"10px"},"");return Object(m.b)("div",{css:i,title:"Segments"},t.map((function(e,t){return Object(m.b)("div",{key:e.id,title:"Segment",css:Object(je.a)({backgroundColor:a(e.deleted,r===t),borderRadius:"5px",borderStyle:"solid",borderColor:"white",borderWidth:"1px",boxSizing:"border-box",width:(e.end-e.start)/n*100+"%",height:"230px",zIndex:1},"")})})))},Se=function(){var e=Object(me.a)(),t=e.ref,n=e.width,r=void 0===n?1:n,a=Object(m.a)({position:"relative",backgroundColor:"snow",height:"250px",width:"100%"},"");return Object(m.b)("div",{ref:t,css:a,title:"Timeline"},Object(m.b)(ye,{timelineWidth:r}),Object(m.b)("div",{css:xe},Object(m.b)("img",{alt:"waveform2",src:ve,style:{position:"absolute",height:"230px",width:"100%",top:"10px"}}),Object(m.b)(we,{timelineWidth:r})))},Ce=function(e){var t=e.iconName,n=e.actionName,r=e.action,a=Object(u.b)();return Object(m.b)("div",{css:{backgroundColor:"snow",borderRadius:"10px",fontSize:"medium",padding:"16px",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)",cursor:"pointer",justifyContent:"center",alignContent:"center",transitionDuration:"0.3s",transitionProperty:"transform","&:hover":{transform:"scale(1.1)"},"&:active":{transform:"scale(0.9)"},display:"flex",alignItems:"center",gap:"10px",textAlign:"center"},title:n,onClick:function(){return r?a(r()):""}},Object(m.b)(d.a,{icon:t,size:"1x"}),Object(m.b)("span",null,n))},ke=function(){var e=Object(u.b)(),t=Object(u.c)(K);return Object(m.b)("div",{css:{backgroundColor:"snow",borderRadius:"10px",fontSize:"medium",padding:"16px",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)",cursor:"pointer",justifyContent:"center",alignContent:"center",transitionDuration:"0.3s",transitionProperty:"transform","&:hover":{transform:"scale(1.1)"},"&:active":{transform:"scale(0.9)"},display:"flex",alignItems:"center",gap:"10px",textAlign:"center"},title:t?"Delete":"Restore",onClick:function(){return e(V())}},Object(m.b)(d.a,{icon:t?l.x:l.y,size:"1x"}),Object(m.b)("div",null,t?"Delete":"Restore"))},Ie=function(){var e=Object(m.a)({backgroundColor:"snow",flex:"3",display:"flex",flexDirection:"row",justifyContent:"space-between",padding:"00px",gap:"30px"},""),t=Object(m.a)({backgroundColor:"snow",display:"flex",flexDirection:"row",gap:"30px"},"");return Object(m.b)("div",{css:e},Object(m.b)("div",{css:t},Object(m.b)(Ce,{iconName:l.d,actionName:"Cut",action:L}),Object(m.b)(ke,null),Object(m.b)(Ce,{iconName:l.r,actionName:"Merge Left",action:q}),Object(m.b)(Ce,{iconName:l.s,actionName:"Merge Right",action:U})),Object(m.b)("div",{css:t},Object(m.b)(Ce,{iconName:l.n,actionName:"Reset changes",action:null}),Object(m.b)(Ce,{iconName:l.n,actionName:"Undo",action:null})))},Ae=Object(b.c)({name:"finishState",initialState:{value:"Process"},reducers:{setState:function(e,t){e.value=t.payload}}}),Pe=Ae.actions.setState,De=function(e){return e.finishState.value},Ne=Ae.reducer,Re=function(e){var t=e.iconName,n=e.stateName,r=Object(u.b)(),a=Object(u.c)(De),i=Object(s.a)(Object(s.a)({backgroundColor:"snow",borderRadius:"10px",fontSize:"medium",width:"200px",height:"200px",cursor:"pointer",transitionDuration:"0.3s",transitionProperty:"transform"},a===n&&{backgroundColor:"lightblue"}),{},{"&:hover":{transform:"scale(1.1)"},"&:active":{transform:"scale(0.9)"},display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",gap:"10px"});return Object(m.b)("div",{css:i,title:n,onClick:function(){r(Pe(n))}},Object(m.b)(d.a,{icon:t,size:"3x"}),Object(m.b)("div",null,n))},ze=function(){var e=Object(m.a)({borderBottom:"1px solid #BBB",display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"space-around",padding:"20px",gap:"30px"},"");return Object(m.b)("div",{css:e,title:"Select Finish Option Area"},Object(m.b)(Re,{iconName:l.o,stateName:"Save"}),Object(m.b)(Re,{iconName:l.h,stateName:"Process"}),Object(m.b)(Re,{iconName:l.t,stateName:"Abort"}))},We=function(e){var t=e.stateName,n=e.workflowIndex,r=Object(u.b)(),a=Object(u.c)(Q),i=Object(m.a)({backgroundColor:n!==a?"snow":"lightblue",borderRadius:"10px",borderWidth:"1px",fontSize:"medium",padding:"16px",cursor:"pointer",justifyContent:"center",alignContent:"center",transitionDuration:"0.3s",transitionProperty:"transform","&:hover":{transform:"scale(1.1)"},"&:active":{transform:"scale(0.9)"},gap:"10px"},"");return Object(m.b)("div",{css:i,title:"Workflow Button for "+t,onClick:function(){return r(F(n))}},Object(m.b)("span",null,t))},Be=function(){var e=Object(u.c)(re),t=Object(m.a)({backgroundColor:"snow",borderRight:"1px solid #BBB",width:"350px",display:"flex",flexDirection:"column",alignItems:"left",padding:"20px",paddingRight:"40px",gap:"30px"},"");return Object(m.b)("div",{css:t,title:"Workflow Selection Area"},Object(m.b)("h2",null,"Workflow Selection"),e.map((function(e,t){return Object(m.b)(We,{key:t,stateName:e.name,workflowIndex:t})})))},Me={status:"idle",error:void 0},Te=Object(b.b)("video/postVideoInformationWithWorkflow",function(){var e=Object(S.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("http://localhost:8081/editor/".concat(t.mediaPackageId,"/edit.json"),{segments:Le(t.segments),worklows:t.workflowID});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ee=Object(b.c)({name:"workflowPostAndProcessState",initialState:Me,reducers:{},extraReducers:function(e){e.addCase(Te.pending,(function(e,t){e.status="loading"})),e.addCase(Te.fulfilled,(function(e,t){e.status="success"})),e.addCase(Te.rejected,(function(e,t){e.status="failed",e.error=t.error.message}))}}),Le=function(e){var t=[];return e.forEach((function(e){t.push({start:e.start,end:e.end,deleted:e.deleted,selected:!1})})),t},Ve=function(e){return e.workflowPostAndProcessState.status},Fe=function(e){return e.workflowPostAndProcessState.error},qe=Ee.reducer,Ue=function(){var e=Object(u.b)(),t=Object(u.c)(re),n=Object(u.c)(Q),r=Object(u.c)(H),a=Object(u.c)(Ve),i=l.e;"loading"===a?i=l.q:"success"===a?i=l.b:"failed"===a&&(i=l.f);var o=Object(m.a)({flex:1,backgroundColor:"snow",borderRadius:"10px",borderWidth:"1px",borderColor:"failed"===a?"red":"green",borderStyle:"solid",fontSize:"medium",padding:"16px",cursor:"pointer",justifyContent:"center",alignContent:"center",transitionDuration:"0.3s",transitionProperty:"transform","&:hover":{transform:"scale(1.1)"},"&:active":{transform:"scale(0.9)"},display:"flex",alignItems:"center",gap:"10px"},"");return Object(m.b)("div",{css:o,title:"Process",onClick:function(){return e(Te({segments:r,mediaPackageId:"9bf8aec2-10f5-4c64-bfde-2752fa3a394d",workflowID:t[n]}))}},Object(m.b)(d.a,{icon:i,size:"1x"}),Object(m.b)("span",null,"Start Processing"))},Je=function(){var e=Object(u.c)(Ve),t=Object(u.c)(Fe),n=Object(m.a)({display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",gap:"20px"},""),r=Object(m.a)(Object(s.a)(Object(s.a)({},"failed"!==e&&{display:"none"}),{},{borderColor:"red",borderStyle:"dashed",fontWeight:"bold",padding:"10px"}),"");return Object(m.b)("div",{css:n,title:"Workflow Configuration Area"},Object(m.b)("h2",null,"Workflow Configuration"),Object(m.b)(d.a,{icon:l.w,size:"10x"}),"Under Construction",Object(m.b)(Ue,null),Object(m.b)("div",{css:r,title:"Error Box"},Object(m.b)("span",null,"An error has occured. Please wait a bit and try again. Details: "),Object(m.b)("br",null),t))},Ye={status:"idle",error:void 0},Ge=Object(b.b)("video/postVideoInformation",function(){var e=Object(S.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("http://localhost:8081/editor/".concat(t.mediaPackageId,"/edit.json"),{segments:_e(t.segments)});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),He=Object(b.c)({name:"workflowPostState",initialState:Ye,reducers:{},extraReducers:function(e){e.addCase(Ge.pending,(function(e,t){e.status="loading"})),e.addCase(Ge.fulfilled,(function(e,t){e.status="success"})),e.addCase(Ge.rejected,(function(e,t){e.status="failed",e.error=t.error.message}))}}),_e=function(e){var t=[];return e.forEach((function(e){t.push({start:e.start,end:e.end,deleted:e.deleted,selected:!1})})),t},Ke=function(e){return e.workflowPostState.status},Qe=function(e){return e.workflowPostAndProcessState.error},Xe=He.reducer,Ze=Object(b.c)({name:"abortState",initialState:{value:!1},reducers:{setState:function(e,t){e.value=t.payload}}}),$e=Ze.actions.setState,et=function(e){return e.abortState.value},tt=Ze.reducer;var nt={name:"uwwqev",styles:"width:100%;height:100%;"},rt=function(){var e=Object(u.c)(De),t=Object(u.c)(Ke),n=Object(u.c)(Qe),r=Object(m.a)({height:"100%",display:"Save"!==e?"none":"flex",flexDirection:"column",alignItems:"center",gap:"20px"},""),a=Object(m.a)(Object(s.a)(Object(s.a)({},"failed"!==t&&{display:"none"}),{},{borderColor:"red",borderStyle:"dashed",fontWeight:"bold",padding:"10px"}),"");return Object(m.b)("div",{css:r,title:"Save Area"},Object(m.b)("span",null,"Save the changes you made, but the video will not be cut yet. ",Object(m.b)("br",null),'To make Opencast cut the video, please select "Process". ',Object(m.b)("br",null),"Doth thou truly wish tah save?"),Object(m.b)(ot,null),Object(m.b)("div",{css:a,title:"Error Box"},Object(m.b)("span",null,"An error has occured. Please wait a bit and try again. Details: "),Object(m.b)("br",null),n,Object(m.b)("br",null)))},at=function(){var e=Object(u.c)(De),t=Object(m.a)({height:"100%",display:"Process"!==e?"none":"flex",flexDirection:"row",justifyContent:"center"},"");return Object(m.b)("div",{css:t,title:"Workflow Container"},Object(m.b)(Be,null),Object(m.b)(Je,null))},it=function(){var e=Object(u.c)(De),t=Object(m.a)({display:"Abort"!==e?"none":"flex",flexDirection:"column",alignItems:"center",gap:"20px"},"");return Object(m.b)("div",{css:t,title:"Abort Area"},Object(m.b)("span",null,"Discard all the changes you made? They will be lost forever! ",Object(m.b)("br",null),"Doth thou truly wish tah abort?"),Object(m.b)(st,null))},ot=function(){var e=Object(u.b)(),t=Object(u.c)(H),n=Object(u.c)(Ke),r=l.e;"loading"===n?r=l.q:"success"===n?r=l.b:"failed"===n&&(r=l.f);var a=Object(m.a)({width:"200px",backgroundColor:"snow",borderRadius:"10px",borderWidth:"1px",borderColor:"failed"===n?"red":"green",borderStyle:"solid",fontSize:"medium",padding:"16px",cursor:"pointer",justifyContent:"center",alignContent:"center",transitionDuration:"0.3s",transitionProperty:"transform","&:hover":{transform:"scale(1.1)"},"&:active":{transform:"scale(0.9)"},display:"flex",alignItems:"center",gap:"10px"},"");return Object(m.b)("div",{css:a,title:"Save",onClick:function(){return e(Ge({segments:t,mediaPackageId:"9bf8aec2-10f5-4c64-bfde-2752fa3a394d"}))}},Object(m.b)(d.a,{icon:r,size:"1x"}),Object(m.b)("span",null,"Save"))},ct={name:"kdc4e5",styles:"width:200px;background-color:snow;border-radius:10px;border-width:1px;border-color:red;border-style:solid;font-size:medium;padding:16px;cursor:pointer;justify-content:center;align-content:center;transition-duration:0.3s;transition-property:transform;&:hover{transform:scale(1.1);}&:active{transform:scale(0.9);}display:flex;align-items:center;gap:10px;"},st=function(){var e=Object(u.b)(),t=ct;return Object(m.b)("div",{css:t,title:"Abort Button",onClick:function(){return e($e(!0))}},Object(m.b)("span",null,"Abort"))},dt=function(){var e=nt;return Object(m.b)("div",{css:e,title:"Select Finish Option Area"},Object(m.b)(rt,null),Object(m.b)(at,null),Object(m.b)(it,null))};var lt={name:"8atqhb",styles:"width:100%;"},ut=function(){var e=Object(u.c)(g),t=Object(m.a)({width:"100%",display:e!==r.cutting?"none":"flex",flexDirection:"column",justifyContent:"space-around",gap:"20px",paddingRight:"20px",paddingLeft:"20px"},""),n=Object(m.a)({display:e!==r.finish?"none":"flex",width:"100%",flexDirection:"column",justifyContent:"space-around",gap:"20px",paddingRight:"20px"},""),a=Object(m.a)({display:e===r.cutting||e===r.finish?"none":"flex",flexDirection:"column",alignItems:"center",padding:"20px",gap:"20px"},"");return Object(m.b)("div",{title:"MainMenuContext",css:lt},Object(m.b)("div",{css:t,title:"Cutting Container"},Object(m.b)(pe,null),Object(m.b)(Ie,null),Object(m.b)(Se,null)),Object(m.b)("div",{css:n,title:"Workflow Container"},Object(m.b)(ze,null),Object(m.b)(dt,null)),Object(m.b)("div",{css:a},Object(m.b)(d.a,{icon:l.w,size:"10x"}),"Under Construction"))};var bt={name:"2ts5ex",styles:"width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px;gap:20px;"},ft=function(){var e=Object(u.c)(et),t=Object(u.c)(Ve),n=Object(u.c)($),r=bt;return Object(m.b)("div",{css:r,title:"The last area"},Object(m.b)(d.a,{icon:e?l.t:"success"===t?l.c:l.n,size:"10x"}),e?"You really did it. All your changes are now lost forever. You can now continue doing whatever you want.":"success"===t?"Changes successfully saved to Opencast. Processing your changes may take up to\n              ".concat(new Date(2*n).toISOString().substr(11,8)," hours.\n              You can now close the editor."):"Now this is awkward. Something has gone very wrong.")},pt=function(){var e=Object(u.c)(et),t=Object(u.c)(Ve),n={display:"flex",flexDirection:"row"};return Object(m.b)(i.a.Fragment,null,e||"success"===t?Object(m.b)(ft,null):Object(m.b)("div",{css:n,title:"Body"},Object(m.b)(x,null),Object(m.b)(ut,null)))};var jt={name:"x7gdnd",styles:"background-color:snow;"};var gt=function(){return Object(m.b)("div",{css:jt,className:"App"},Object(m.b)(pt,null))},Ot=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),i(e),o(e)}))},mt=Object(b.a)({reducer:{mainMenuState:O,finishState:Ne,videoState:ae,workflowPostState:Xe,workflowPostAndProcessState:qe,abortState:tt}});c.a.render(Object(m.b)(i.a.StrictMode,null,Object(m.b)(u.a,{store:mt},Object(m.b)(gt,null))),document.getElementById("root")),Ot()}},[[72,1,2]]]);
//# sourceMappingURL=main.31f6a229.chunk.js.map
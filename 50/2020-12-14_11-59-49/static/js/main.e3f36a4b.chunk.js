(this.webpackJsonpklipping=this.webpackJsonpklipping||[]).push([[0],{41:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);n(5);var c,i=n(1),r=n.n(i),a=n(17),o=n.n(a),s=(n(41),n(9)),l=n(8),u=n(0),d=n(6),b=n(3),f=n(2),h=n(7);!function(e){e.cutting="Cutting",e.metadata="Metadata",e.thumbnail="Thumbnail",e.finish="Finish"}(c||(c={}));var p={value:c.cutting},j=Object(h.c)({name:"mainMenuState",initialState:p,reducers:{setState:function(e,t){e.value=t.payload}}}),g=j.actions.setState,O=function(e){return e.mainMenuState.value},m=j.reducer;var v=function(){return Object(u.c)(u.a,{styles:x})},x={name:"rps25",styles:"body{background-color:snow;font-size:medium;}"},w=Object(u.b)({borderRadius:"10px",cursor:"pointer",transitionDuration:"0.3s",transitionProperty:"transform","&:hover":{transform:"scale(1.1)"},"&:active":{transform:"scale(0.9)"},display:"flex",justifyContent:"center",alignItems:"center",gap:"10px",textAlign:"center"},""),y=function(e){var t=e.iconName,n=e.stateName,c=Object(f.b)(),i=Object(f.c)(O),r=Object(u.b)(Object(l.a)(Object(l.a)({width:"100%",height:"100px"},i===n&&{backgroundColor:"lightblue"}),{},{flexDirection:"column"}),"");return Object(u.c)("div",{css:Object(s.a)([w,r],""),title:n,onClick:function(){c(g(n))}},Object(u.c)(d.a,{icon:t,size:"2x"}),Object(u.c)("div",null,n))},S=function(){return Object(u.c)("div",{style:{borderRight:"1px solid #BBB",width:"100px",display:"flex",flexDirection:"column",flexShrink:0,alignItems:"center",padding:"20px",gap:"30px"},title:"MainMenu"},Object(u.c)(y,{iconName:b.i,stateName:c.cutting}),Object(u.c)(y,{iconName:b.j,stateName:c.metadata}),Object(u.c)(y,{iconName:b.l,stateName:c.thumbnail}),Object(u.c)(y,{iconName:b.p,stateName:c.finish}))},k=n(16),C=n(12),I=n.n(C),D=n(14),A=n(35);function P(e){return W.apply(this,arguments)}function W(){return(W=Object(D.a)(I.a.mark((function e(t){var n,c,i,r,a,o,s,u,d,b,f=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:{},c=n.body,i=Object(A.a)(n,["body"]),r={"Content-Type":"application/json"},a=btoa(unescape(encodeURIComponent("admin:opencast"))),o={Authorization:"Basic ".concat(a)},s=Object(l.a)(Object(l.a)({method:c?"POST":"GET"},i),{},{headers:Object(l.a)(Object(l.a)(Object(l.a)({},r),i.headers),o)}),c&&(s.body=JSON.stringify(c)),e.prev=6,e.next=9,window.fetch(t,s);case 9:return b=e.sent,e.next=12,b.text();case 12:if(d=e.sent,u=d.length?JSON.parse(d):"",!b.ok){e.next=16;break}return e.abrupt("return",u);case 16:throw new Error(b.statusText);case 19:return e.prev=19,e.t0=e.catch(6),e.abrupt("return",Promise.reject(e.t0.message?e.t0.message:u));case 22:case"end":return e.stop()}}),e,null,[[6,19]])})))).apply(this,arguments)}P.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return P(e,Object(l.a)(Object(l.a)({},t),{},{method:"GET"}))},P.post=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return P(e,Object(l.a)(Object(l.a)({},n),{},{body:t}))};var N=function(e,t){var n=Math.pow(10,t);return Math.round((e+Number.EPSILON)*n)/n},T={isPlaying:!1,currentlyAt:0,segments:[{id:Object(h.d)(),start:0,end:1,deleted:!1}],activeSegmentIndex:0,selectedWorkflowIndex:0,videoURLs:[],videoCount:0,duration:0,title:"",presenters:[],workflows:[],status:"idle",error:void 0},R=Object(h.b)("video/fetchVideoInformation",Object(D.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("https://legacy.opencast.org/admin-ng/tools/ID-dual-stream-demo/editor.json");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),M=Object(h.c)({name:"videoState",initialState:T,reducers:{setIsPlaying:function(e,t){e.isPlaying=t.payload},setCurrentlyAt:function(e,t){e.currentlyAt=N(t.payload,3),E(e)},setCurrentlyAtInSeconds:function(e,t){e.currentlyAt=N(1e3*t.payload,3),E(e)},addSegment:function(e,t){e.segments.push(t.payload)},cut:function(e){if(e.segments[e.activeSegmentIndex].start===e.currentlyAt||e.segments[e.activeSegmentIndex].end===e.currentlyAt)return e;var t={id:Object(h.d)(),start:e.segments[e.activeSegmentIndex].start,end:e.currentlyAt,deleted:!0},n={id:Object(h.d)(),start:e.currentlyAt,end:e.segments[e.activeSegmentIndex].end,deleted:!0};e.segments.splice(e.activeSegmentIndex,1,t,n)},markAsDeletedOrAlive:function(e){e.segments[e.activeSegmentIndex].deleted=!e.segments[e.activeSegmentIndex].deleted},setSelectedWorkflowIndex:function(e,t){e.selectedWorkflowIndex=t.payload},mergeLeft:function(e){z(e,e.activeSegmentIndex,e.activeSegmentIndex-1)},mergeRight:function(e){z(e,e.activeSegmentIndex,e.activeSegmentIndex+1)}},extraReducers:function(e){e.addCase(R.pending,(function(e,t){e.status="loading"})),e.addCase(R.fulfilled,(function(e,t){e.status="success",e.videoURLs=t.payload.previews.reduce((function(e,t){return e.push(t.uri),e}),[]),e.videoCount=t.payload.previews.length,e.duration=t.payload.duration,e.title=t.payload.title,e.presenters=t.payload.presenters,e.segments=B(t.payload.segments,t.payload.duration),e.workflows=t.payload.workflows.sort((function(e,t){return e.displayOrder>t.displayOrder?1:e.displayOrder<t.displayOrder?-1:0}))})),e.addCase(R.rejected,(function(e,t){e.status="failed",e.error=t.error.message}))}}),E=function(e){e.activeSegmentIndex=e.segments.findIndex((function(t){return t.start<=e.currentlyAt&&t.end>=e.currentlyAt})),e.activeSegmentIndex<0&&(e.activeSegmentIndex=0)},B=function(e,t){var n=[];return 0===e.length&&n.push({id:Object(h.d)(),start:0,end:t,deleted:!1}),e.forEach((function(e){n.push({id:Object(h.d)(),start:e.start,end:e.end,deleted:e.deleted})})),n},z=function(e,t,n){n<0||n>e.segments.length-1||(e.segments[t].start=Math.min(e.segments[t].start,e.segments[n].start),e.segments[t].end=Math.max(e.segments[t].end,e.segments[n].end),e.segments.splice(n,1),E(e))},H=M.actions,L=H.setIsPlaying,F=H.setCurrentlyAt,V=H.setCurrentlyAtInSeconds,G=(H.addSegment,H.cut),q=H.markAsDeletedOrAlive,U=H.setSelectedWorkflowIndex,J=H.mergeLeft,Y=H.mergeRight,X=function(e){return e.videoState.isPlaying},K=function(e){return e.videoState.currentlyAt},Q=function(e){return e.videoState.currentlyAt/1e3},Z=function(e){return e.videoState.segments},$=function(e){return e.videoState.activeSegmentIndex},_=function(e){return!e.videoState.segments[e.videoState.activeSegmentIndex].deleted},ee=function(e){return e.videoState.selectedWorkflowIndex},te=function(e){return e.videoState.videoURLs},ne=function(e){return e.videoState.videoCount},ce=function(e){return e.videoState.duration},ie=function(e){return e.videoState.duration/1e3},re=function(e){return e.videoState.title},ae=function(e){return e.videoState.presenters},oe=function(e){return e.videoState.workflows},se=M.reducer,le=n(32),ue=n.n(le);var de=function(e){var t=e.url,n=e.isMuted,c=Object(f.b)(),r=Object(f.c)(X),a=Object(f.c)(Q),o=Object(f.c)(ie),s=Object(i.useState)(!1),l=Object(k.a)(s,2),d=l[0],b=l[1],h=Object(i.useRef)(null);return Object(i.useEffect)((function(){!r&&h.current&&d&&h.current.seekTo(a,"seconds")})),Object(u.c)(ue.a,{url:t,ref:h,width:"100%",height:"auto",playing:r,muted:n,onProgress:function(e){N(a,3)!==N(e.playedSeconds,3)&&c(V(e.playedSeconds))},progressInterval:100,onReady:function(){b(!0)},onEnded:function(){c(L(!1)),c(V(o))}})},be={name:"vyrci0",styles:"cursor:pointer;transition-duration:0.3s;transition-property:transform;&:hover{transform:scale(1.1);}&:active{transform:scale(0.9);}"},fe={name:"1gnq0uh",styles:"cursor:pointer;transition-duration:0.3s;transition-property:transform;&:hover{transform:scale(1.05);}"},he={name:"1r139wu",styles:"display:inline-block;width:110px;"},pe=function(){var e=Object(f.b)(),t=Object(f.c)(X),n=Object(f.c)(K),c=Object(i.useState)(!1),r=Object(k.a)(c,2),a=r[0],o=r[1],s=Object(u.b)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",padding:"10px"},""),l=Object(u.b)({display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",padding:"10px",gap:"50px"},""),h=be,p=fe;return Object(u.c)("div",{css:s,title:"Video Controls"},Object(u.c)("div",{css:l,title:"Video Controls Top Row"},Object(u.c)("div",{style:{display:"flex",gap:"10px"}},Object(u.c)(d.a,{icon:b.g,size:"1x"}),Object(u.c)(d.a,{css:p,icon:a?b.v:b.u,size:"1x",onClick:function(){return o(!a)}})),Object(u.c)(d.a,{css:h,icon:t?b.k:b.m,size:"2x",onClick:function(){return e(L(!t))}}),Object(u.c)("div",{css:he},new Date(n||0).toISOString().substr(11,12))))},je={name:"iqjf8m",styles:"font-size:large;"},ge=function(){var e=Object(f.c)(re),t=Object(f.c)(ae),n=je;return Object(u.c)("div",{title:"Video Area Header"},Object(u.c)("div",{css:n,title:"Video Title"},e),Object(u.c)("div",{title:"Video Presenters"},"by ",t.join(", ")))},Oe=function(){var e,t=Object(f.b)(),n=Object(f.c)(te),c=Object(f.c)(ne),r=Object(f.c)((function(e){return e.videoState.status})),a=Object(f.c)((function(e){return e.videoState.error}));Object(i.useEffect)((function(){"idle"===r&&t(R())}),[r,t]),"loading"===r?e=Object(u.c)("div",{className:"loader"},"Loading..."):"success"===r?e="":"failed"===r&&(e=Object(u.c)("div",null,a));for(var o=[],s=0;s<c;s++)o.push(Object(u.c)(de,{key:s,url:n[s],isMuted:0===s}));var l=Object(u.b)({display:"flex",width:"auto",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"10px",borderBottom:"1px solid #BBB"},""),d=Object(u.b)({backgroundColor:"black",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%"},"");return Object(u.c)("div",{css:l,title:"Video Area"},e,Object(u.c)(ge,null),Object(u.c)("div",{css:d,title:"Video Player Area"},o),Object(u.c)(pe,null))},me=n(33),ve=n.n(me),xe=n(34);function we(e){var t=this;this.audioContext=new AudioContext,this.oCanvas=document.createElement("canvas"),this.buffer={},this.WIDTH=0,this.HEIGHT=0,this.channelData=[],this.waveformImage="",this.audioBuffer=null,this.aveRMS=0,this.peakRMS=0,this.numberSamples=1e5,this.waveformType="img",this.drawWaveform=this.drawCanvasWaveform,e.width&&e.height&&this.setDimensions(e.width,e.height),e.samples&&(this.numberSamples=e.samples),e.type&&"svg"===e.type&&(this.waveformType="svg",this.drawWaveform=this.delegateToWorker,this.worker=null),e.media&&this.generateWaveform(e.media).then((function(){t.getAudioData(),t.drawWaveform(),"svg"!==t.waveformType&&n.forEach((function(e){e(t.waveformImage||t.svgPath,t.waveformType)}))})).catch((function(e){return console.log(e)}));var n=[];Object.defineProperty(this,"oncomplete",{get:function(){return n},set:function(e,t){if("function"==typeof e){if(this.waveformImage||this.svgPath)return void e(this.waveformImage||this.svgPath,this.svgLength);n.push(e)}}})}we.prototype={constructor:we,setDimensions:function(e,t){this.oCanvas.width=e,this.WIDTH=e,this.oCanvas.height=t,this.HEIGHT=t,this.ocCtx=this.oCanvas.getContext("2d")},decodeAudioData:function(e){var t=this;return new Promise((function(n,c){new Promise((function(t,n){if(e instanceof ArrayBuffer)t(e);else if(e instanceof Blob){var c=new FileReader;c.onload=function(){t(c.result)},c.readAsArrayBuffer(e)}})).then((function(e){t.audioContext.decodeAudioData(e).then((function(e){t.buffer=e,n()})).catch((function(e){c(e)}))})).catch((function(e){c(e)}))}))},getAudioData:function(e){e=e||this.buffer,this.channelData=this.dropSamples(e.getChannelData(0),this.numberSamples)},drawCanvasWaveform:function(e){var t=this;e=e||1,this.ocCtx.fillStyle="#FFFFFF00",this.ocCtx.fillRect(0,0,this.WIDTH,this.HEIGHT),this.ocCtx.lineWidth=1,this.ocCtx.strokeStyle="black";var n=1*this.WIDTH/this.channelData.length,c=0;this.ocCtx.beginPath(),this.ocCtx.moveTo(c,this.channelData[0]*this.HEIGHT/128/2),this.channelData.forEach((function(i){var r=i*e,a=t.HEIGHT*(1+r)/2;t.ocCtx.lineTo(c,a),t.aveRMS+=i*i,t.peakRMS=Math.max(i*i,t.peakRMS),c+=n})),this.ocCtx.lineTo(this.WIDTH,this.HEIGHT/2),this.ocCtx.stroke(),this.aveRMS=Math.sqrt(this.aveRMS/this.channelData.length),this.aveDBs=20*Math.log(this.aveRMS)/Math.log(10),this.waveformImage=this.oCanvas.toDataURL()},dropSamples:function(e,t){var n=Math.max(parseInt(e.length/t),1);return e.filter((function(e,t){return t%n===0}))},generateWaveform:function(e){return this.decodeAudioData(e)},delegateToWorker:function(){this.worker||(this.worker=new Worker("../util/svgworker.js"),this.worker.addEventListener("message",this.workerCommunication.bind(this),!1),this.worker.postMessage(this.channelData))},workerCommunication:function(e){switch(e.data.type){case"path":this.setSVGpath(e.data.path,e.data.length),this.worker.removeEventListener("message",this.workerCommunication.bind(this),!1),this.worker.terminate(),this.worker=null}},setSVGpath:function(e,t){var n=this;this.svgPath=document.createElementNS("http://www.w3.org/2000/svg","path"),this.svgLength=t,this.svgPath.setAttribute("d",e),this.svgPath.setAttribute("vector-effect","non-scaling-stroke"),this.svgPath.setAttribute("stroke-width","0.5px"),this.oncomplete.forEach((function(e){return e(n.svgPath,n.svgLength)}))}};var ye={name:"190c1k3",styles:"height:230px;"},Se={name:"2q5poe",styles:"transform:scaleY(1.5) rotate(90deg);padding:5px;"},ke=function(e){var t=e.timelineWidth,n=Object(f.b)(),c=Object(f.c)(X),r=Object(f.c)(K),a=Object(f.c)(ce),o=Object(i.useState)({x:0,y:0}),s=Object(k.a)(o,2),l=s[0],h=s[1],p=Object(i.useState)(!1),j=Object(k.a)(p,2),g=j[0],O=j[1],m=Object(i.useRef)(0);Object(i.useEffect)((function(){r!==m.current&&(v(),m.current=r)}));var v=function(){var e=l.y;h({x:r/a*t,y:e})},x=Object(u.b)({backgroundColor:"rgba(255, 0, 0, 1)",height:"250px",width:"1px",position:"absolute",zIndex:2,boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)",display:"flex",justifyContent:"center",alignItems:"center"},""),w=Object(u.b)({backgroundColor:"rgba(255, 255, 255, 1)",borderRadius:"10px",height:"50px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)",cursor:g?"grabbing":"grab",transitionDuration:"0.3s",transitionProperty:"transform","&:hover":{transform:"scale(1.1)"},"&:active":{transform:"scale(0.9)"}},""),y=Se;return Object(u.c)(ve.a,{onStart:function(){O(!0)},onStop:function(e,c){var i=c.x,r=c.y;h({x:i,y:r}),n(F(i/t*a)),O(!1)},axis:"x",bounds:"parent",position:l,disabled:c},Object(u.c)("div",{css:x,title:"Scrubber"},Object(u.c)("div",{css:w,title:"dragHandle"},Object(u.c)(d.a,{css:y,icon:b.a,size:"1x"}))))},Ce=function(e){e.timelineWidth;var t=Object(f.c)(Z),n=Object(f.c)(ce),c=Object(f.c)($),i=function(e,t){return e||t?e&&!t?"rgba(255, 0, 0, 0.4)":!e&&t?"rgba(0, 0, 200, 0.4)":e&&t?"rgba(200, 0, 0, 0.4)":void 0:"rgba(0, 0, 255, 0.4)"},r=Object(u.b)({display:"flex",flexDirection:"row",paddingTop:"10px"},"");return Object(u.c)("div",{css:r,title:"Segments"},t.map((function(e,t){return Object(u.c)("div",{key:e.id,title:"Segment",css:Object(s.a)({backgroundColor:i(e.deleted,c===t),borderRadius:"5px",borderStyle:"solid",borderColor:"white",borderWidth:"1px",boxSizing:"border-box",width:(e.end-e.start)/n*100+"%",height:"230px",zIndex:1},"")})})))},Ie={name:"e6zfwc",styles:"min-height:0;"},De=function(){var e=Object(f.c)(te),t=Object(f.c)((function(e){return e.videoState.status})),n=Object(u.b)({display:"flex",flexDirection:"column",position:"absolute",justifyContent:"center",width:"100%",height:"230px",paddingTop:"10px"},""),c=Object(i.useState)([]),r=Object(k.a)(c,2),a=r[0],o=r[1];Object(i.useEffect)((function(){if("success"===t){var n=[],c=0;e.forEach((function(t,i,r){var a=null,s=new XMLHttpRequest;s.open("GET",e[0]),s.responseType="blob",s.onload=function(){a=s.response;var e=new File([a],a),t=[];t.push(new we({type:"img",width:"2000",height:"230",samples:1e5,media:e})),t[0].oncomplete=function(e,t){n.push(e),++c===r.length&&o(n)}},s.send()}))}}),[t,e]);return Object(u.c)("div",{css:n,title:"WaveformDisplayTest"},a?a.map((function(e){return Object(u.c)("img",{alt:"Waveform",src:e||"",css:Ie})})):Object(u.c)(d.a,{icon:b.q,spin:!0,size:"3x"}))},Ae=function(){var e=Object(xe.a)(),t=e.ref,n=e.width,c=void 0===n?1:n,i=Object(u.b)({position:"relative",height:"250px",width:"100%"},"");return Object(u.c)("div",{ref:t,css:i,title:"Timeline"},Object(u.c)(ke,{timelineWidth:c}),Object(u.c)("div",{css:ye},Object(u.c)(De,null),Object(u.c)(Ce,{timelineWidth:c})))},Pe={padding:"16px",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)"},We=function(e){var t=e.iconName,n=e.actionName,c=e.action,i=Object(f.b)();return Object(u.c)("div",{css:Object(s.a)([w,Pe],""),title:n,onClick:function(){return c?i(c()):""}},Object(u.c)(d.a,{icon:t,size:"1x"}),Object(u.c)("span",null,n))},Ne=function(){var e=Object(f.b)(),t=Object(f.c)(_);return Object(u.c)("div",{css:Object(s.a)([w,Pe],""),title:t?"Delete":"Restore",onClick:function(){return e(q())}},Object(u.c)(d.a,{icon:t?b.x:b.y,size:"1x"}),Object(u.c)("div",null,t?"Delete":"Restore"))},Te=function(){var e=Object(u.b)({display:"flex",flexDirection:"row",justifyContent:"space-between",gap:"30px"},""),t=Object(u.b)({display:"flex",flexDirection:"row",gap:"30px"},"");return Object(u.c)("div",{css:e},Object(u.c)("div",{css:t},Object(u.c)(We,{iconName:b.d,actionName:"Cut",action:G}),Object(u.c)(Ne,null),Object(u.c)(We,{iconName:b.r,actionName:"Merge Left",action:J}),Object(u.c)(We,{iconName:b.s,actionName:"Merge Right",action:Y})),Object(u.c)("div",{css:t},Object(u.c)(We,{iconName:b.n,actionName:"Reset changes",action:null}),Object(u.c)(We,{iconName:b.n,actionName:"Undo",action:null})))},Re=Object(h.c)({name:"finishState",initialState:{value:"Process"},reducers:{setState:function(e,t){e.value=t.payload}}}),Me=Re.actions.setState,Ee=function(e){return e.finishState.value},Be=Re.reducer,ze=function(e){var t=e.iconName,n=e.stateName,c=Object(f.b)(),i=Object(f.c)(Ee),r=Object(l.a)(Object(l.a)({width:"200px",height:"200px"},i===n&&{backgroundColor:"lightblue"}),{},{flexDirection:"column"});return Object(u.c)("div",{css:Object(s.a)([w,r],""),title:n,onClick:function(){c(Me(n))}},Object(u.c)(d.a,{icon:t,size:"3x"}),Object(u.c)("div",null,n))},He=function(){var e=Object(u.b)({borderBottom:"1px solid #BBB",display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"space-around",padding:"20px",gap:"30px"},"");return Object(u.c)("div",{css:e,title:"Select Finish Option Area"},Object(u.c)(ze,{iconName:b.o,stateName:"Save"}),Object(u.c)(ze,{iconName:b.h,stateName:"Process"}),Object(u.c)(ze,{iconName:b.t,stateName:"Abort"}))},Le=function(e){var t=e.stateName,n=e.workflowIndex,c=Object(f.b)(),i=Object(f.c)(ee),r=Object(u.b)({backgroundColor:n!==i?"snow":"lightblue",padding:"16px"},"");return Object(u.c)("div",{css:Object(s.a)([w,r],""),title:"Workflow Button for "+t,onClick:function(){return c(U(n))}},Object(u.c)("span",null,t))},Fe=function(){var e=Object(f.c)(oe),t=Object(u.b)({borderRight:"1px solid #BBB",width:"350px",display:"flex",flexDirection:"column",alignItems:"left",padding:"20px",paddingRight:"40px",gap:"30px"},"");return Object(u.c)("div",{css:t,title:"Workflow Selection Area"},Object(u.c)("h2",null,"Workflow Selection"),e.map((function(e,t){return Object(u.c)(Le,{key:t,stateName:e.name,workflowIndex:t})})))},Ve={status:"idle",error:void 0},Ge=Object(h.b)("video/postVideoInformation",function(){var e=Object(D.a)(I.a.mark((function e(t){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.post("http://localhost:8081/editor/".concat(t.mediaPackageId,"/edit.json"),{segments:Ue(t.segments)});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),qe=Object(h.c)({name:"workflowPostState",initialState:Ve,reducers:{},extraReducers:function(e){e.addCase(Ge.pending,(function(e,t){e.status="loading"})),e.addCase(Ge.fulfilled,(function(e,t){e.status="success"})),e.addCase(Ge.rejected,(function(e,t){e.status="failed",e.error=t.error.message}))}}),Ue=function(e){var t=[];return e.forEach((function(e){t.push({start:e.start,end:e.end,deleted:e.deleted,selected:!1})})),t},Je=function(e){return e.workflowPostState.status},Ye=function(e){return e.workflowPostAndProcessState.error},Xe=qe.reducer,Ke={status:"idle",error:void 0},Qe=Object(h.b)("video/postVideoInformationWithWorkflow",function(){var e=Object(D.a)(I.a.mark((function e(t){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.post("http://localhost:8081/editor/".concat(t.mediaPackageId,"/edit.json"),{segments:Ue(t.segments),worklows:t.workflowID});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ze=Object(h.c)({name:"workflowPostAndProcessState",initialState:Ke,reducers:{},extraReducers:function(e){e.addCase(Qe.pending,(function(e,t){e.status="loading"})),e.addCase(Qe.fulfilled,(function(e,t){e.status="success"})),e.addCase(Qe.rejected,(function(e,t){e.status="failed",e.error=t.error.message}))}}),$e=function(e){return e.workflowPostAndProcessState.status},_e=function(e){return e.workflowPostAndProcessState.error},et=Ze.reducer,tt=function(){var e=Object(f.b)(),t=Object(f.c)(oe),n=Object(f.c)(ee),c=Object(f.c)(Z),i=Object(f.c)($e),r=b.e;"loading"===i?r=b.q:"success"===i?r=b.b:"failed"===i&&(r=b.f);var a=Object(u.b)({borderWidth:"1px",borderColor:"failed"===i?"red":"green",borderStyle:"solid",padding:"16px"},"");return Object(u.c)("div",{css:Object(s.a)([w,a],""),title:"Process",onClick:function(){return e(Qe({segments:c,mediaPackageId:"9bf8aec2-10f5-4c64-bfde-2752fa3a394d",workflowID:t[n]}))}},Object(u.c)(d.a,{icon:r,size:"1x"}),Object(u.c)("span",null,"Start Processing"))},nt=function(){var e=Object(f.c)($e),t=Object(f.c)(_e),n=Object(u.b)({display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",gap:"20px"},""),c=Object(u.b)(Object(l.a)(Object(l.a)({},"failed"!==e&&{display:"none"}),{},{borderColor:"red",borderStyle:"dashed",fontWeight:"bold",padding:"10px"}),"");return Object(u.c)("div",{css:n,title:"Workflow Configuration Area"},Object(u.c)("h2",null,"Workflow Configuration"),Object(u.c)(d.a,{icon:b.w,size:"10x"}),"Under Construction",Object(u.c)(tt,null),Object(u.c)("div",{css:c,title:"Error Box"},Object(u.c)("span",null,"An error has occured. Please wait a bit and try again. Details: "),Object(u.c)("br",null),t))},ct=Object(h.c)({name:"abortState",initialState:{value:!1},reducers:{setState:function(e,t){e.value=t.payload}}}),it=ct.actions.setState,rt=function(e){return e.abortState.value},at=ct.reducer;var ot={name:"uwwqev",styles:"width:100%;height:100%;"},st=function(){var e=Object(f.c)(Ee),t=Object(f.c)(Je),n=Object(f.c)(Ye),c=Object(u.b)({height:"100%",display:"Save"!==e?"none":"flex",flexDirection:"column",alignItems:"center",gap:"20px"},""),i=Object(u.b)(Object(l.a)(Object(l.a)({},"failed"!==t&&{display:"none"}),{},{borderColor:"red",borderStyle:"dashed",fontWeight:"bold",padding:"10px"}),"");return Object(u.c)("div",{css:c,title:"Save Area"},Object(u.c)("span",null,"Save the changes you made, but the video will not be cut yet. ",Object(u.c)("br",null),'To make Opencast cut the video, please select "Process". ',Object(u.c)("br",null),"Doth thou truly wish tah save?"),Object(u.c)(dt,null),Object(u.c)("div",{css:i,title:"Error Box"},Object(u.c)("span",null,"An error has occured. Please wait a bit and try again. Details: "),Object(u.c)("br",null),n,Object(u.c)("br",null)))},lt=function(){var e=Object(f.c)(Ee),t=Object(u.b)({height:"100%",display:"Process"!==e?"none":"flex",flexDirection:"row",justifyContent:"center"},"");return Object(u.c)("div",{css:t,title:"Workflow Container"},Object(u.c)(Fe,null),Object(u.c)(nt,null))},ut=function(){var e=Object(f.c)(Ee),t=Object(u.b)({display:"Abort"!==e?"none":"flex",flexDirection:"column",alignItems:"center",gap:"20px"},"");return Object(u.c)("div",{css:t,title:"Abort Area"},Object(u.c)("span",null,"Discard all the changes you made? They will be lost forever! ",Object(u.c)("br",null),"Doth thou truly wish tah abort?"),Object(u.c)(ft,null))},dt=function(){var e=Object(f.b)(),t=Object(f.c)(Z),n=Object(f.c)(Je),c=b.e;"loading"===n?c=b.q:"success"===n?c=b.b:"failed"===n&&(c=b.f);var i=Object(u.b)({width:"200px",borderWidth:"1px",borderColor:"failed"===n?"red":"green",borderStyle:"solid",padding:"16px"},"");return Object(u.c)("div",{css:Object(s.a)([w,i],""),title:"Save",onClick:function(){return e(Ge({segments:t,mediaPackageId:"9bf8aec2-10f5-4c64-bfde-2752fa3a394d"}))}},Object(u.c)(d.a,{icon:c,size:"1x"}),Object(u.c)("span",null,"Save"))},bt={name:"l3wy02",styles:"width:200px;border-width:1px;border-color:red;border-style:solid;padding:16px;"},ft=function(){var e=Object(f.b)(),t=bt;return Object(u.c)("div",{css:Object(s.a)([w,t],""),title:"Abort Button",onClick:function(){return e(it(!0))}},Object(u.c)("span",null,"Abort"))},ht=function(){var e=ot;return Object(u.c)("div",{css:e,title:"Select Finish Option Area"},Object(u.c)(st,null),Object(u.c)(lt,null),Object(u.c)(ut,null))};var pt={name:"8atqhb",styles:"width:100%;"},jt=function(){var e=Object(f.c)(O),t=Object(u.b)({width:"100%",display:e!==c.cutting?"none":"flex",flexDirection:"column",justifyContent:"space-around",gap:"20px",paddingRight:"20px",paddingLeft:"20px"},""),n=Object(u.b)({display:e!==c.finish?"none":"flex",width:"100%",flexDirection:"column",justifyContent:"space-around",gap:"20px",paddingRight:"20px"},""),i=Object(u.b)({display:e===c.cutting||e===c.finish?"none":"flex",flexDirection:"column",alignItems:"center",padding:"20px",gap:"20px"},"");return Object(u.c)("div",{title:"MainMenuContext",css:pt},Object(u.c)("div",{css:t,title:"Cutting Container"},Object(u.c)(Oe,null),Object(u.c)(Te,null),Object(u.c)(Ae,null)),Object(u.c)("div",{css:n,title:"Workflow Container"},Object(u.c)(He,null),Object(u.c)(ht,null)),Object(u.c)("div",{css:i},Object(u.c)(d.a,{icon:b.w,size:"10x"}),"Under Construction"))};var gt={name:"2ts5ex",styles:"width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px;gap:20px;"},Ot=function(){var e=Object(f.c)(rt),t=Object(f.c)($e),n=Object(f.c)(ce),c=gt;return Object(u.c)("div",{css:c,title:"The last area"},Object(u.c)(d.a,{icon:e?b.t:"success"===t?b.c:b.n,size:"10x"}),e?"You really did it. All your changes are now lost forever. You can now continue doing whatever you want.":"success"===t?"Changes successfully saved to Opencast. Processing your changes may take up to\n              ".concat(new Date(2*n).toISOString().substr(11,8)," hours.\n              You can now close the editor."):"Now this is awkward. Something has gone very wrong.")},mt=function(){var e=Object(f.c)(rt),t=Object(f.c)($e),n={display:"flex",flexDirection:"row"};return Object(u.c)(r.a.Fragment,null,e||"success"===t?Object(u.c)(Ot,null):Object(u.c)("div",{css:n,title:"Body"},Object(u.c)(S,null),Object(u.c)(jt,null)))};var vt=function(){return Object(u.c)("div",{className:"App"},Object(u.c)(v,null),Object(u.c)(mt,null))},xt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),r(e),a(e)}))},wt=Object(h.a)({reducer:{mainMenuState:m,finishState:Be,videoState:se,workflowPostState:Xe,workflowPostAndProcessState:et,abortState:at}});o.a.render(Object(u.c)(r.a.StrictMode,null,Object(u.c)(f.a,{store:wt},Object(u.c)(vt,null))),document.getElementById("root")),xt()}},[[72,1,2]]]);
//# sourceMappingURL=main.e3f36a4b.chunk.js.map
(this["webpackJsonpopencast-editor"]=this["webpackJsonpopencast-editor"]||[]).push([[0],{123:function(e,t,n){"use strict";n.r(t);n(4);var a,r=n(1),i=n.n(r),o=n(22),c=n.n(o),s=(n(66),n(8)),l=n(0),u=n(6),d=n(3),b=n(2),f=n(7);!function(e){e.cutting="Cutting",e.metadata="Metadata",e.thumbnail="Thumbnail",e.finish="Finish"}(a||(a={}));var p,g,h,m={value:a.cutting},v=Object(f.c)({name:"mainMenuState",initialState:m,reducers:{setState:function(e,t){e.value=t.payload}}}),j=v.actions.setState,O=function(e){return e.mainMenuState.value},x=v.reducer,w=Object(f.c)({name:"finishState",initialState:{value:"Start processing",pageNumber:0},reducers:{setState:function(e,t){e.value=t.payload},setPageNumber:function(e,t){e.pageNumber=t.payload}}}),y=w.actions,k=y.setState,S=y.setPageNumber,I=function(e){return e.finishState.value},C=function(e){return e.finishState.pageNumber},A=w.reducer,P=n(9),D=n.n(P),T=n(16),E=n(49),M=n.n(E),W=n(30),N=n.n(W),R={mediaPackageId:void 0,opencast:{url:window.location.origin,name:void 0,password:void 0},metadata:{show:!0},thumbnail:{show:!0}},B=function(){var e=Object(T.a)(D.a.mark((function e(){var t,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L().then((function(e){p=F(e,!1,"src-server","from server settings file")}));case 2:t=new URLSearchParams(window.location.search),n={},t.forEach((function(e,t){var a=n,r=t.split(".");r.slice(0,-1).forEach((function(e){e in a||(a[e]={}),a=a[e]})),a[r[r.length-1]]=e})),g=F(n,!0,"src-url","given as URL GET parameter"),h=K.all([R,p,g]);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(T.a)(D.a.mark((function e(){var t,n,a,r,i,o;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n="/113/2021-03-18_15-57-11").endsWith("/")||(n+="/"),a=Object({NODE_ENV:"production",PUBLIC_URL:"/113/2021-03-18_15-57-11",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SETTINGS_PATH||"editor-settings.toml",r=a.startsWith("/")?"":n,i="".concat(window.location.origin).concat(r).concat(a),e.prev=5,e.next=8,fetch(i);case 8:o=e.sent,e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(5),console.warn("Could not access '".concat(a,"' due to network error!"),e.t0||""),e.abrupt("return",null);case 15:if(404!==o.status){e.next=20;break}return console.debug("'".concat(a,"' returned 404: ignoring")),e.abrupt("return",null);case 20:if(o.ok){e.next=23;break}return console.error("Fetching '".concat(a,"' failed: ").concat(o.status," ").concat(o.statusText)),e.abrupt("return",null);case 23:if(!(null===(t=o.headers.get("Content-Type"))||void 0===t?void 0:t.startsWith("text/html"))){e.next=26;break}return console.warn("'".concat(a,"' request has 'Content-Type: text/html' -> ignoring...")),e.abrupt("return",null);case 26:return e.prev=26,e.t1=M.a,e.next=30,o.text();case 30:return e.t2=e.sent,e.abrupt("return",(0,e.t1)(e.t2));case 34:throw e.prev=34,e.t3=e.catch(26),console.error("Could not parse '".concat(a,"' as TOML: "),e.t3),new SyntaxError("Could not parse '".concat(a,"' as TOML: ").concat(e.t3));case 38:case"end":return e.stop()}}),e,null,[[5,11],[26,34]])})));return function(){return e.apply(this,arguments)}}(),F=function(e,t,n,a){var r=function(e,t,n){return"function"===typeof e?i(e,t,n):o(e,t,n)},i=function(e,r,i){try{var o=e(r,t,n);return void 0===o?r:o}catch(c){return console.warn("Validation of setting '".concat(i,"' (").concat(a,") with value '").concat(r,"' failed: ")+"".concat(c,". Ignoring.")),null}},o=function(e,t,n){var i={};for(var o in t){var c=n?"".concat(n,".").concat(o):o;if(o in e){var s=r(e[o],t[o],c);null!==s&&(i[o]=s)}else console.warn("'".concat(c,"' (").concat(a,") is not a valid settings key. Ignoring."))}return i};return r(z,e,"")},H={string:function(e,t){if("string"!==typeof e)throw new Error("is not a string, but should be")},boolean:function(e,t){if("boolean"!==typeof e){if(t){if("true"===e)return!0;if("false"===e)return!1;throw new Error("can't be parsed as boolean")}throw new Error("is not a boolean")}}},z={mediaPackageId:H.string,opencast:{url:H.string,name:H.string,password:H.string},metadata:{show:H.boolean},thumbnail:{show:H.boolean}},K=function(e,t){return N()(e,t,{arrayMerge:G})};K.all=function(e){return N.a.all(e,{arrayMerge:G})};var G=function(e,t,n){return t};var _=function(){return Object(l.c)(l.a,{styles:V})},V={name:"1bjjf7p",styles:"body{background-color:snow;font-size:medium;min-height:100vh;}"},q=Object(l.b)({borderRadius:"10px",cursor:"pointer",transitionDuration:"0.3s",transitionProperty:"transform","&:hover":{transform:"scale(1.1)"},"&:focus":{transform:"scale(1.1)"},"&:active":{transform:"scale(0.9)"},display:"flex",justifyContent:"center",alignItems:"center",gap:"10px",textAlign:"center"},"",""),U={name:"1666ohp",styles:"width:200px;padding:16px;box-shadow:0 0 10px rgba(0, 0, 0, 0.3);justify-content:space-around"},Y=Object(l.b)({display:"flex",flexDirection:"row",gap:"20px"},"",""),J={name:"651ll8",styles:"position:absolute;left:-99999px;height:1px;width:1px;overflow:hidden"},X=function(e){return Object(l.b)(Object(s.a)(Object(s.a)({},!e&&{display:"none"}),{},{borderColor:"red",borderStyle:"dashed",fontWeight:"bold",padding:"10px"}),"","")},Q=n(60);function Z(e){return $.apply(this,arguments)}function $(){return($=Object(T.a)(D.a.mark((function e(t){var n,a,r,i,o,c,l,u,d,b,f=arguments;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:{},a=n.body,r=Object(Q.a)(n,["body"]),i={"Content-Type":"application/json"},o={},h.opencast.name&&h.opencast.password&&(c=btoa(unescape(encodeURIComponent(h.opencast.name+":"+h.opencast.password))),o={Authorization:"Basic ".concat(c)}),l=Object(s.a)(Object(s.a)({method:a?"POST":"GET"},r),{},{headers:Object(s.a)(Object(s.a)(Object(s.a)({},i),r.headers),o)}),a&&(l.body=JSON.stringify(a)),e.prev=6,e.next=9,window.fetch(t,l);case 9:return b=e.sent,e.next=12,b.text();case 12:if(d=e.sent,!b.url.includes("login.html")){e.next=15;break}throw new Error("Got redirected to login page, authentification failed.");case 15:if(!b.ok){e.next=18;break}return u=d.length?JSON.parse(d):"",e.abrupt("return",u);case 18:throw new Error(b.statusText);case 21:return e.prev=21,e.t0=e.catch(6),e.abrupt("return",Promise.reject(e.t0.message?e.t0.message:u));case 24:case"end":return e.stop()}}),e,null,[[6,21]])})))).apply(this,arguments)}Z.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Z(e,Object(s.a)(Object(s.a)({},t),{},{method:"GET"}))},Z.post=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Z(e,Object(s.a)(Object(s.a)({},n),{},{body:t}))};var ee=function(e,t){var n=Math.pow(10,t);return Math.round((e+Number.EPSILON)*n)/n},te=function(e){var t=new Date(e||0).toISOString().substr(11,2),n=new Date(e||0).toISOString().substr(14,2),a=new Date(e||0).toISOString().substr(17,2),r=[];return parseInt(t)>0&&r.push(t+" hours, "),(parseInt(n)>0||parseInt(t)>0)&&r.push(n+" minutes, "),r.push(a+" seconds"),r.join("")},ne={isPlaying:!1,isPlayPreview:!0,currentlyAt:0,segments:[{id:Object(f.d)(),start:0,end:1,deleted:!1}],tracks:[],activeSegmentIndex:0,selectedWorkflowIndex:0,previewTriggered:!1,clickTriggered:!1,aspectRatios:[],videoURLs:[],videoCount:0,duration:0,title:"",presenters:[],workflows:[],status:"idle",error:void 0},ae=Object(f.b)("video/fetchVideoInformation",Object(T.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.mediaPackageId){e.next=2;break}throw new Error("Missing mediaPackageId");case 2:return e.next=4,Z.get("".concat(h.opencast.url,"/editor/").concat(h.mediaPackageId,"/edit.json"));case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))),re=function(e,t){e.currentlyAt=ee(t,0),e.currentlyAt<0&&(e.currentlyAt=0),0!==e.duration&&e.duration<e.currentlyAt&&(e.currentlyAt=e.duration),oe(e),le(e)},ie=Object(f.c)({name:"videoState",initialState:ne,reducers:{setIsPlaying:function(e,t){e.isPlaying=t.payload},setIsPlayPreview:function(e,t){e.isPlayPreview=t.payload},setPreviewTriggered:function(e,t){e.previewTriggered=t.payload},setClickTriggered:function(e,t){e.clickTriggered=t.payload},setCurrentlyAt:function(e,t){re(e,t.payload)},setCurrentlyAtInSeconds:function(e,t){re(e,ee(1e3*t.payload,0))},addSegment:function(e,t){e.segments.push(t.payload)},setAspectRatio:function(e,t){e.aspectRatios[t.payload.dataKey]={width:t.payload.width,height:t.payload.height}},cut:function(e){if(e.segments[e.activeSegmentIndex].start===e.currentlyAt||e.segments[e.activeSegmentIndex].end===e.currentlyAt)return e;var t={id:Object(f.d)(),start:e.segments[e.activeSegmentIndex].start,end:e.currentlyAt,deleted:e.segments[e.activeSegmentIndex].deleted},n={id:Object(f.d)(),start:e.currentlyAt,end:e.segments[e.activeSegmentIndex].end,deleted:e.segments[e.activeSegmentIndex].deleted};e.segments.splice(e.activeSegmentIndex,1,t,n)},markAsDeletedOrAlive:function(e){e.segments[e.activeSegmentIndex].deleted=!e.segments[e.activeSegmentIndex].deleted},setSelectedWorkflowIndex:function(e,t){e.selectedWorkflowIndex=t.payload},mergeLeft:function(e){se(e,e.activeSegmentIndex,e.activeSegmentIndex-1)},mergeRight:function(e){se(e,e.activeSegmentIndex,e.activeSegmentIndex+1)}},extraReducers:function(e){e.addCase(ae.pending,(function(e,t){e.status="loading"})),e.addCase(ae.fulfilled,(function(e,t){e.status="success",e.videoURLs=t.payload.tracks.reduce((function(e,t){return e.push(t.uri),e}),[]),e.videoCount=e.videoURLs.length,e.duration=t.payload.duration,e.title=t.payload.title,e.presenters=[],e.segments=ce(t.payload.segments,t.payload.duration),e.tracks=t.payload.tracks,e.workflows=t.payload.workflows.sort((function(e,t){return e.displayOrder>t.displayOrder?1:e.displayOrder<t.displayOrder?-1:0})),e.aspectRatios=new Array(e.videoCount)})),e.addCase(ae.rejected,(function(e,t){e.status="failed",e.error=t.error.message}))}}),oe=function(e){e.activeSegmentIndex=e.segments.findIndex((function(t){return t.start<=e.currentlyAt&&t.end>=e.currentlyAt})),e.activeSegmentIndex<0&&(e.activeSegmentIndex=0)},ce=function(e,t){var n=[];return 0===e.length&&n.push({id:Object(f.d)(),start:0,end:t,deleted:!1}),e.forEach((function(e){n.push({id:Object(f.d)(),start:e.start,end:e.end,deleted:e.deleted})})),n},se=function(e,t,n){n<0||n>e.segments.length-1||(e.segments[t].start=Math.min(e.segments[t].start,e.segments[n].start),e.segments[t].end=Math.max(e.segments[t].end,e.segments[n].end),e.segments.splice(n,1),oe(e))},le=function(e){if(e.isPlaying&&e.segments[e.activeSegmentIndex].deleted&&e.isPlayPreview){for(var t=e.segments[e.activeSegmentIndex].end,n=e.activeSegmentIndex;n<e.segments.length&&e.segments[n].deleted;)t=e.segments[n].end,n++;e.currentlyAt=t,e.previewTriggered=!0}},ue=ie.actions,de=ue.setIsPlaying,be=ue.setIsPlayPreview,fe=ue.setCurrentlyAt,pe=ue.setCurrentlyAtInSeconds,ge=(ue.addSegment,ue.setAspectRatio),he=ue.cut,me=ue.markAsDeletedOrAlive,ve=ue.setSelectedWorkflowIndex,je=ue.mergeLeft,Oe=ue.mergeRight,xe=ue.setPreviewTriggered,we=ue.setClickTriggered,ye=function(e){return e.videoState.isPlaying},ke=function(e){return e.videoState.isPlayPreview},Se=function(e){return e.videoState.previewTriggered},Ie=function(e){return e.videoState.clickTriggered},Ce=function(e){return e.videoState.currentlyAt},Ae=function(e){return e.videoState.currentlyAt/1e3},Pe=function(e){return e.videoState.segments},De=function(e){return e.videoState.activeSegmentIndex},Te=function(e){return!e.videoState.segments[e.videoState.activeSegmentIndex].deleted},Ee=function(e){return e.videoState.selectedWorkflowIndex},Me=function(e){return e.videoState.videoURLs},We=function(e){return e.videoState.videoCount},Ne=function(e){return e.videoState.duration},Re=function(e){return e.videoState.duration/1e3},Be=function(e){return e.videoState.title},Le=function(e){return e.videoState.presenters},Fe=function(e){return e.videoState.tracks},He=function(e){return e.videoState.workflows},ze=function(e){return function(e){var t=Math.min.apply(Math,e.map((function(e){return e.height}))),n=Math.min.apply(Math,e.map((function(e){return e.width})));return n*=e.length,Math.min(t/n*100,28.125)}(e.videoState.aspectRatios)},Ke=ie.reducer,Ge=n(59),_e=n(19),Ve=n(50),qe={en:{translation:n(51)}};Ge.a.use(_e.e).use(Ve.a).init({resources:qe,fallbackLng:"en"});var Ue=n(124),Ye=function(e){var t,n=e.iconName,r=e.stateName,i=Object(Ue.a)().t,o=Object(b.b)(),c=Object(b.c)(O),d=function(){o(j(r)),r===a.finish&&o(S(0)),o(de(!1))},f=Object(l.b)(Object(s.a)(Object(s.a)({width:"100%",height:"100px"},c===r&&{backgroundColor:"#DDD"}),{},{flexDirection:"column"}),"","");switch(r){case"Cutting":t=i("mainMenu.cutting-button");break;case"Metadata":t=i("mainMenu.metadata-button");break;case"Thumbnail":t=i("mainMenu.thumbnail-button");break;case"Finish":t=i("mainMenu.finish-button");break;default:t="Could not load String value"}return Object(l.c)("li",{css:[q,f,"",""],role:"menuitem",tabIndex:0,onClick:d,onKeyDown:function(e){"Enter"===e.key&&d()}},Object(l.c)(u.a,{icon:n,size:"2x"}),Object(l.c)("div",null,t))},Je=function(){var e=Object(Ue.a)().t,t=Object(l.b)({borderRight:"1px solid #BBB",width:"100px",display:"flex",flexDirection:"column",flexShrink:0,alignItems:"center",padding:"20px",gap:"30px"},"","");return Object(l.c)("nav",{css:t,title:e("mainMenu.mainMenu-tooltip"),role:"navigation","aria-label":e("mainMenu.tooltip-aria")},Object(l.c)(Ye,{iconName:d.h,stateName:a.cutting}),h.metadata.show&&Object(l.c)(Ye,{iconName:d.i,stateName:a.metadata}),h.thumbnail.show&&Object(l.c)(Ye,{iconName:d.k,stateName:a.thumbnail}),Object(l.c)(Ye,{iconName:d.n,stateName:a.finish}))},Xe=n(20),Qe=n(55),Ze=n.n(Qe);var $e={name:"14fvduy",styles:"position:absolute;top:0;left:0"},et=function(e){var t=e.dataKey,n=e.url,a=e.isPrimary,o=Object(Ue.a)().t,c=Object(b.b)(),u=Object(b.c)(ye),d=Object(b.c)(Ae),f=Object(b.c)(Re),p=Object(b.c)(Se),g=Object(b.c)(Ie),h=Object(b.c)(ze),m=Object(r.useRef)(null),v=Object(r.useState)(!1),j=Object(Xe.a)(v,2),O=j[0],x=j[1],w=Object(r.useState)(!1),y=Object(Xe.a)(w,2),k=y[0],S=y[1],I=function(e){a&&ee(d,3)!==ee(e.playedSeconds,3)&&c(pe(e.playedSeconds))},C=function(){if(x(!0),m.current&&m.current.getInternalPlayer()){var e=m.current.getInternalPlayer().videoWidth,n=m.current.getInternalPlayer().videoHeight;c(ge({dataKey:t,width:e,height:n}))}},A=function(){a&&(c(de(!1)),c(pe(f)))};Object(r.useEffect)((function(){!u&&m.current&&O&&m.current.seekTo(d,"seconds"),p&&m.current&&O&&(m.current.seekTo(d,"seconds"),c(xe(!1))),g&&m.current&&O&&(m.current.seekTo(d,"seconds"),c(we(!1)))}));var P=function(e){S(!0)},D={file:{attributes:{tabIndex:"-1"}}},T=Object(l.b)(Object(s.a)(Object(s.a)({},!k&&{display:"none"}),{},{borderColor:"red",borderStyle:"dashed",fontWeight:"bold",padding:"10px"}),"",""),E=Object(l.b)({position:"relative",width:"100%",paddingTop:h+"%"},"",""),M=$e;return Object(l.c)(i.a.Fragment,null,k?Object(l.c)("div",{css:T,title:"Error Box",role:"alert"},Object(l.c)("span",null,o("video.loadError-text")," ")):Object(l.c)("div",{css:E,title:"playerWrapper"},Object(l.c)(Ze.a,{url:n,css:M,ref:m,width:"100%",height:"100%",playing:u,muted:!a,onProgress:I,progressInterval:100,onReady:C,onEnded:A,onError:P,tabIndex:-1,config:D,disablePictureInPicture:!0})))},tt={name:"1uvkv0q",styles:"width:100%;display:flex;justify-content:left"},nt={name:"1x5loa1",styles:"width:100%;display:flex;justify-content:right"},at={name:"1uao5ta",styles:"display:flex;flex-direction:row;justify-content:center;align-items:center;width:100%;padding:20px;gap:50px"},rt=function(){var e=Object(Ue.a)().t,t=at,n=nt,a=tt;return Object(l.c)("div",{css:t,title:e("video.controls-tooltip")},Object(l.c)("div",{css:n},Object(l.c)(st,null)),Object(l.c)(lt,null),Object(l.c)("div",{css:a},Object(l.c)(bt,null)))},it={name:"1gnq0uh",styles:"cursor:pointer;transition-duration:0.3s;transition-property:transform;&:hover{transform:scale(1.05);}"},ot={name:"1pd6nwc",styles:"cursor:pointer;display:flex;gap:10px;justify-content:center;align-items:center"},ct={name:"iaqz3e",styles:"display:inline-block;flex-wrap:nowrap"},st=function(){var e=Object(Ue.a)().t,t=Object(b.b)(),n=Object(b.c)(ke),a=function(){t(be(!n))},r=ot,i=it,o=e(n?"video.previewButton-on-tooltip":"video.previewButton-off-tooltip");return Object(l.c)("div",{css:r,title:o,role:"switch","aria-checked":n,tabIndex:0,"aria-hidden":!1,"aria-label":e("video.previewButton-aria"),onClick:a,onKeyDown:function(e){" "===e.key&&a()}},Object(l.c)("div",{css:ct},e("video.previewButton")),Object(l.c)(u.a,{css:i,icon:n?d.t:d.s,size:"1x"}))},lt=function(){var e=Object(Ue.a)().t,t=Object(b.b)(),n=Object(b.c)(ye),a=function(){t(de(!n))};return Object(l.c)(u.a,{css:[q,"justify-self:center;",""],icon:n?d.j:d.l,size:"2x",title:e("video.playButton-tooltip"),role:"button","aria-pressed":n,tabIndex:0,"aria-hidden":!1,"aria-label":e("video.playButton-tooltip"),onClick:a,onKeyDown:function(e){" "!==e.key&&"Enter"!==e.key||a()}})},ut={name:"1nvb49c",styles:"display:flex;flex-direction:row;gap:5px"},dt={name:"147w8p8",styles:"display:inline-block;width:100px"},bt=function(){var e=Object(Ue.a)().t,t=Object(b.c)(Ce),n=Object(b.c)(Ne);return Object(l.c)("div",{css:ut},Object(l.c)("time",{css:dt,title:e("video.time-duration-tooltip"),tabIndex:0,role:"timer","aria-label":e("video.time-aria")+": "+te(t)},new Date(t||0).toISOString().substr(11,12))," / ",Object(l.c)("div",{tabIndex:0,"aria-label":e("video.duration-aria")+": "+te(n)},new Date(n||0).toISOString().substr(11,12)))},ft={name:"18oixho",styles:"font-weight:bold;font-size:24px;vertical-align:-2.5px"},pt={name:"akya17",styles:"display:inline-block;padding:15px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:500px"},gt={name:"11g4mt0",styles:"font-size:16px"},ht=function(){var e,t=Object(Ue.a)().t,n=Object(b.c)(Be),a=Object(b.c)(Le),r=pt,i=ft;return a&&a.length&&(e=Object(l.c)("div",{css:r,title:t("video.presenter-tooltip")},"by ",a.join(", "))),Object(l.c)("div",{title:t("video.area-tooltip"),css:gt},Object(l.c)("div",{css:[r,i,"",""],title:t("video.title-tooltip")},n),e)},mt=function(){var e=Object(Ue.a)().t,t=Object(b.b)(),n=Object(b.c)(Me),a=Object(b.c)(We),i=Object(b.c)((function(e){return e.videoState.status})),o=Object(b.c)((function(e){return e.videoState.error}));Object(r.useEffect)((function(){"idle"===i&&t(ae())}),[i,t]);for(var c=[],s=0;s<a;s++)c.push(Object(l.c)(et,{key:s,dataKey:s,url:n[s],isPrimary:0===s}));var u=Object(l.b)({display:"flex",width:"auto",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"0px",borderBottom:"1px solid #BBB"},"",""),d=Object(l.b)({display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%"},"","");return Object(l.c)("div",{css:u,title:e("video.area-tooltip")},Object(l.c)("div",{css:X("failed"===i),title:"Error Box",role:"alert"},Object(l.c)("span",null,e("video.comError-text")),Object(l.c)("br",null),o?e("various.error-details-text",{errorMessage:o}):e("various.error-noDetails-text"),Object(l.c)("br",null)),Object(l.c)(ht,null),Object(l.c)("div",{css:d,title:e("video.area-player-tooltip")},c),Object(l.c)(rt,null))},vt=n(56),jt=n.n(vt),Ot=n(57);function xt(e){var t=this;this.audioContext=new AudioContext,this.oCanvas=document.createElement("canvas"),this.buffer={},this.WIDTH=0,this.HEIGHT=0,this.channelData=[],this.waveformImage="",this.audioBuffer=null,this.aveRMS=0,this.peakRMS=0,this.numberSamples=1e5,this.waveformType="img",this.drawWaveform=this.drawCanvasWaveform,e.width&&e.height&&this.setDimensions(e.width,e.height),e.samples&&(this.numberSamples=e.samples),e.type&&"svg"===e.type&&(this.waveformType="svg",this.drawWaveform=this.delegateToWorker,this.worker=null),e.media&&this.generateWaveform(e.media).then((function(){t.getAudioData(),t.drawWaveform(),"svg"!==t.waveformType&&n.forEach((function(e){e(t.waveformImage||t.svgPath,t.waveformType)}))})).catch((function(e){return console.log(e)}));var n=[];Object.defineProperty(this,"oncomplete",{get:function(){return n},set:function(e,t){if("function"==typeof e){if(this.waveformImage||this.svgPath)return void e(this.waveformImage||this.svgPath,this.svgLength);n.push(e)}}})}xt.prototype={constructor:xt,setDimensions:function(e,t){this.oCanvas.width=e,this.WIDTH=e,this.oCanvas.height=t,this.HEIGHT=t,this.ocCtx=this.oCanvas.getContext("2d")},decodeAudioData:function(e){var t=this;return new Promise((function(n,a){new Promise((function(t,n){if(e instanceof ArrayBuffer)t(e);else if(e instanceof Blob){var a=new FileReader;a.onload=function(){t(a.result)},a.readAsArrayBuffer(e)}})).then((function(e){t.audioContext.decodeAudioData(e).then((function(e){t.buffer=e,n()})).catch((function(e){a(e)}))})).catch((function(e){a(e)}))}))},getAudioData:function(e){e=e||this.buffer,this.channelData=this.dropSamples(e.getChannelData(0),this.numberSamples)},drawCanvasWaveform:function(e){var t=this;e=e||1,this.ocCtx.fillStyle="#FFFFFF00",this.ocCtx.fillRect(0,0,this.WIDTH,this.HEIGHT),this.ocCtx.lineWidth=1,this.ocCtx.strokeStyle="black";var n=1*this.WIDTH/this.channelData.length,a=0;this.ocCtx.beginPath(),this.ocCtx.moveTo(a,this.channelData[0]*this.HEIGHT/128/2),this.channelData.forEach((function(r){var i=r*e,o=t.HEIGHT*(1+i)/2;t.ocCtx.lineTo(a,o),t.aveRMS+=r*r,t.peakRMS=Math.max(r*r,t.peakRMS),a+=n})),this.ocCtx.lineTo(this.WIDTH,this.HEIGHT/2),this.ocCtx.stroke(),this.aveRMS=Math.sqrt(this.aveRMS/this.channelData.length),this.aveDBs=20*Math.log(this.aveRMS)/Math.log(10),this.waveformImage=this.oCanvas.toDataURL()},dropSamples:function(e,t){var n=Math.max(parseInt(e.length/t),1);return e.filter((function(e,t){return t%n===0}))},generateWaveform:function(e){return this.decodeAudioData(e)},delegateToWorker:function(){this.worker||(this.worker=new Worker("../util/svgworker.js"),this.worker.addEventListener("message",this.workerCommunication.bind(this),!1),this.worker.postMessage(this.channelData))},workerCommunication:function(e){switch(e.data.type){case"path":this.setSVGpath(e.data.path,e.data.length),this.worker.removeEventListener("message",this.workerCommunication.bind(this),!1),this.worker.terminate(),this.worker=null}},setSVGpath:function(e,t){var n=this;this.svgPath=document.createElementNS("http://www.w3.org/2000/svg","path"),this.svgLength=t,this.svgPath.setAttribute("d",e),this.svgPath.setAttribute("vector-effect","non-scaling-stroke"),this.svgPath.setAttribute("stroke-width","0.5px"),this.oncomplete.forEach((function(e){return e(n.svgPath,n.svgLength)}))}};var wt={name:"1bziqmm",styles:"position:relative;height:250px;width:100%"},yt={name:"10kp0sj",styles:"height:230px"},kt={name:"1iopd98",styles:"width:0;height:0;border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid black"},St={name:"n4tiqn",styles:"width:0;height:0;border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid black"},It={name:"9n2iv6",styles:"transform:scaleY(1.5) rotate(90deg);padding:5px"},Ct=function(e){var t=e.timelineWidth,n=Object(Ue.a)().t,a=Object(b.b)(),o=Object(b.c)(ye),c=Object(b.c)(Ce),s=Object(b.c)(Ne),f=Object(b.c)(De),p=Object(b.c)(Pe),g=Object(r.useState)({x:0,y:0}),h=Object(Xe.a)(g,2),m=h[0],v=h[1],j=Object(r.useState)(!1),O=Object(Xe.a)(j,2),x=O[0],w=O[1],y=Object(r.useState)(!1),k=Object(Xe.a)(y,2),S=k[0],I=k[1],C=Object(r.useState)(1e3),A=Object(Xe.a)(C,2),P=A[0],D=A[1],T=Object(r.useRef)(0),E=i.a.useRef(null);Object(r.useEffect)((function(){c!==T.current&&(M(),T.current=c)})),Object(r.useEffect)((function(){c&&s&&v({x:c/s*t,y:0})}),[t]);var M=function(){var e=m.y;v({x:c/s*t,y:e})},W=Object(l.b)({backgroundColor:"black",height:"250px",width:"1px",position:"absolute",zIndex:2,boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center"},"",""),N=Object(l.b)({backgroundColor:"rgba(255, 255, 255, 1)",borderRadius:"10px",height:"50px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)",cursor:x?"grabbing":"grab",transitionDuration:"0.3s",transitionProperty:"transform","&:hover":{transform:"scale(1.1)"},"&:active":{transform:"scale(0.9)"}},"",""),R=It,B=St,L=kt;return Object(l.c)(jt.a,{onStart:function(){w(!0),o?(I(!0),a(de(!1))):I(!1)},onStop:function(e,n){var r=n.x,i=n.y;v({x:r,y:i}),a(fe(r/t*s)),w(!1),S&&a(de(!0))},axis:"x",bounds:"parent",position:m,nodeRef:E},Object(l.c)("div",{ref:E,css:W,title:n("timeline.scrubber-tooltip")},Object(l.c)("div",{css:L}),Object(l.c)("div",{css:N,title:n("timeline.dragHandle-tooltip"),"aria-grabbed":x,"aria-label":p[f].deleted?n("timeline.scrubber-deleted-text-aria",{currentTime:te(c),segment:f}):n("timeline.scrubber-alive-text-aria",{currentTime:te(c),segment:f}),tabIndex:0,onKeyDown:function(e){if(e.altKey)switch(e.key){case"j":a(fe(Math.max(c-P,0)));break;case"l":a(fe(Math.min(c+P,s)));break;case"i":D(Math.min(10*P,1e6));break;case"k":D(Math.max(P/10,1))}}},Object(l.c)(u.a,{css:R,icon:d.a,size:"1x"})),Object(l.c)("div",{css:B})))},At=function(e){e.timelineWidth;var t=Object(Ue.a)().t,n=Object(b.c)(Pe),a=Object(b.c)(Ne),r=Object(b.c)(De),i=Object(l.b)({display:"flex",flexDirection:"row",paddingTop:"10px"},"","");return Object(l.c)("div",{css:i,title:"Segments"},n.map((function(e,n){return Object(l.c)("div",{key:e.id,title:t("timeline.segment-tooltip",{segment:n}),"aria-label":e.deleted?t("timeline.segmentsDeleted-text-aria",{segment:n,start:te(e.start),end:te(e.end)}):t("timeline.segmentsAlive-text-aria",{segment:n,start:te(e.start),end:te(e.end)}),tabIndex:0,css:Object(l.b)({background:(i=e.deleted,o=r===n,i||o?i&&!o?"repeating-linear-gradient(\n                -45deg,\n                rgba(255, 45, 45, 0.4),\n                rgba(255, 45, 45, 0.4) 10px,\n                rgba(255, 0, 0, 0.4) 10px,\n                rgba(255, 0, 0, 0.4) 20px);":!i&&o?"rgba(0, 0, 200, 0.4)":i&&o?"repeating-linear-gradient(\n                -45deg,\n                rgba(200, 45, 45, 0.4),\n                rgba(200, 45, 45, 0.4) 10px,\n                rgba(200, 0, 0, 0.4) 10px,\n                rgba(200, 0, 0, 0.4) 20px);":void 0:"rgba(0, 0, 255, 0.4)"),borderRadius:"5px",borderStyle:r===n?"dashed":"solid",borderColor:"white",borderWidth:"1px",boxSizing:"border-box",width:(e.end-e.start)/a*100+"%",height:"230px",zIndex:1},"","")});var i,o})))},Pt={name:"mvrlf6",styles:"min-height:0"},Dt=function(){var e=Object(Ue.a)().t,t=Object(b.c)(Me),n=Object(b.c)((function(e){return e.videoState.status})),a=Object(r.useState)([]),o=Object(Xe.a)(a,2),c=o[0],f=o[1],p=Object(l.b)(Object(s.a)(Object(s.a)({display:"flex",flexDirection:"column",position:"absolute",justifyContent:"center"},c.length<=0&&{alignItems:"center"}),{},{width:"100%",height:"230px",paddingTop:"10px"}),"","");Object(r.useEffect)((function(){if("success"===n){var e=[],a=0;[t[0]].forEach((function(t,n,r){var i=null,o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){i=o.response,new xt({type:"img",width:"2000",height:"230",samples:1e5,media:new File([i],i)}).oncomplete=function(t,n){e.push(t),++a===r.length&&f(e)}},o.send()}))}}),[n,t]);return Object(l.c)("div",{css:p,title:"WaveformDisplayTest"},c.length>0?c.map((function(e,t){return Object(l.c)("img",{key:t,alt:"Waveform",src:e||"",css:Pt})})):Object(l.c)(i.a.Fragment,null,Object(l.c)(u.a,{icon:d.o,spin:!0,size:"3x"}),Object(l.c)("div",null,e("timeline.generateWaveform-text"))))},Tt=function(){var e=Object(b.b)(),t=Object(b.c)(Ne),n=Object(Ot.a)(),a=n.ref,r=n.width,i=void 0===r?1:r,o=wt;return Object(l.c)("div",{ref:a,css:o,title:"Timeline",onMouseDown:function(n){return function(n){var a=n.currentTarget.getBoundingClientRect(),r=n.clientX-a.left;e(we(!0)),e(fe(r/i*t))}(n)}},Object(l.c)(Ct,{timelineWidth:i}),Object(l.c)("div",{css:yt},Object(l.c)(Dt,null),Object(l.c)(At,{timelineWidth:i})))},Et={padding:"16px",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)"},Mt=function(e){var t=e.iconName,n=e.actionName,a=e.action,r=e.tooltip,i=e.ariaLabelText,o=Object(b.b)(),c=function(){a&&o(a())};return Object(l.c)("div",{css:[q,Et,"",""],title:r,role:"button",tabIndex:0,"aria-label":i,onClick:c,onKeyDown:function(e){" "!==e.key&&"Enter"!==e.key||c()}},Object(l.c)(u.a,{icon:t,size:"1x"}),Object(l.c)("span",null,n))},Wt=function(){var e=Object(Ue.a)().t,t=Object(b.b)(),n=Object(b.c)(Te);return Object(l.c)("div",{css:[q,Et,"",""],title:e("cuttingActions.delete-restore-tooltip"),role:"button",tabIndex:0,"aria-label":e("cuttingActions.delete-restore-tooltip-aria"),onClick:function(){return t(me())}},Object(l.c)(u.a,{icon:n?d.v:d.w,size:"1x"}),Object(l.c)("div",null,e(n?"cuttingActions.delete-button":"cuttingActions.restore-button")))},Nt=function(){var e=Object(Ue.a)().t,t=Object(l.b)({display:"flex",flexDirection:"row",justifyContent:"space-between",gap:"30px"},"",""),n=Object(l.b)({display:"flex",flexDirection:"row",gap:"30px"},"","");return Object(l.c)("div",{css:t},Object(l.c)("div",{css:n},Object(l.c)(Mt,{iconName:d.e,actionName:e("cuttingActions.cut-button"),action:he,tooltip:e("cuttingActions.cut-tooltip"),ariaLabelText:e("cuttingActions.cut-tooltip-aria")}),Object(l.c)(Wt,null),Object(l.c)(Mt,{iconName:d.p,actionName:e("cuttingActions.mergeLeft-button"),action:je,tooltip:e("cuttingActions.mergeLeft-tooltip"),ariaLabelText:e("cuttingActions.mergeLeft-tooltip-aria")}),Object(l.c)(Mt,{iconName:d.q,actionName:e("cuttingActions.mergeRight-button"),action:Oe,tooltip:e("cuttingActions.mergeRight-tooltip"),ariaLabelText:e("cuttingActions.mergeRight-tooltip-aria")})),Object(l.c)("div",{css:n}))},Rt=function(e){var t,n=e.iconName,a=e.stateName,r=Object(Ue.a)().t,i=Object(b.b)(),o=function(){i(k(a)),i(S(1))},c=Object(l.b)({width:"250px",height:"220px",flexDirection:"column",fontSize:"x-large",gap:"30px",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)"},"","");switch(a){case"Save changes":t=r("finishMenu.save-button");break;case"Start processing":t=r("finishMenu.start-button");break;case"Discard changes":t=r("finishMenu.discard-button");break;default:t="Could not load String value"}return Object(l.c)("div",{css:[q,c,"",""],role:"button",tabIndex:0,onClick:o,onKeyDown:function(e){" "!==e.key&&"Enter"!==e.key||o()}},Object(l.c)(u.a,{icon:n,size:"2x"}),Object(l.c)("div",null,t))},Bt=function(){var e=Object(l.b)({display:"flex",flexDirection:"row",justifyContent:"space-around",flexWrap:"wrap",gap:"30px"},"","");return Object(l.c)("div",{css:e,title:"Finish Menu"},Object(l.c)(Rt,{iconName:d.m,stateName:"Save changes"}),Object(l.c)(Rt,{iconName:d.g,stateName:"Start processing"}),Object(l.c)(Rt,{iconName:d.r,stateName:"Discard changes"}))},Lt={status:"idle",error:void 0},Ft=Object(f.b)("video/postVideoInformation",function(){var e=Object(T.a)(D.a.mark((function e(t){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.mediaPackageId){e.next=2;break}throw new Error("Missing mediaPackageId");case 2:return e.next=4,Z.post("".concat(h.opencast.url,"/editor/").concat(h.mediaPackageId,"/edit.json"),{segments:zt(t.segments),tracks:t.tracks});case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ht=Object(f.c)({name:"workflowPostState",initialState:Lt,reducers:{},extraReducers:function(e){e.addCase(Ft.pending,(function(e,t){e.status="loading"})),e.addCase(Ft.fulfilled,(function(e,t){e.status="success"})),e.addCase(Ft.rejected,(function(e,t){e.status="failed",e.error=t.error.message}))}}),zt=function(e){var t=[];return e.forEach((function(e){t.push({start:e.start,end:e.end,deleted:e.deleted,selected:!1})})),t},Kt=function(e){return e.workflowPostState.status},Gt=function(e){return e.workflowPostAndProcessState.error},_t=Ht.reducer;var Vt={name:"vavmm1",styles:"max-width:500px"},qt=function(){var e=Object(Ue.a)().t,t=Object(b.b)(),n=Object(b.c)(Pe),a=Object(b.c)(Fe),r=Object(b.c)(Kt),i=d.m,o=!1,c=e("save.confirmButton-default-tooltip");"loading"===r?(i=d.o,o=!0,c=e("save.confirmButton-attempting-tooltip")):"success"===r?(i=d.b,o=!1,c=e("save.confirmButton-success-tooltip")):"failed"===r&&(i=d.f,o=!1,c=e("save.confirmButton-failed-tooltip"));var s=function(){t(Ft({segments:n,tracks:a}))};return Object(l.c)("div",{css:[q,U,"",""],title:c,role:"button",tabIndex:0,onClick:s,onKeyDown:function(e){" "!==e.key&&"Enter"!==e.key||s()}},Object(l.c)(u.a,{icon:i,spin:o,size:"1x"}),Object(l.c)("span",null,e("save.confirm-button")),Object(l.c)("div",{css:J,"aria-live":"polite","aria-atomic":"true"},function(){if("success"===r)return e("save.success-tooltip-aria")}()))},Ut=function(){var e=Object(Ue.a)().t,t=Object(b.c)(I),n=Object(b.c)(Kt),a=Object(b.c)(Gt),r=Object(l.b)({height:"100%",display:"Save changes"!==t?"none":"flex",flexDirection:"column",alignItems:"center",gap:"30px"},"","");return Object(l.c)("div",{css:r,title:e("save.saveArea-tooltip")},Object(l.c)("h1",null,e("save.headline-text")),Object(l.c)("span",{css:Vt},e("save.info-text")),Object(l.c)("div",{css:Y},Object(l.c)(gn,{pageNumber:0,label:e("various.goBack-button"),iconName:d.d}),Object(l.c)(qt,null)),Object(l.c)("div",{css:X("failed"===n),title:"Error Box",role:"alert"},Object(l.c)("span",null,e("save.error-text")),Object(l.c)("br",null),a?e("various.error-details-text",{errorMessage:a}):e("various.error-noDetails-text"),Object(l.c)("br",null)))},Yt=Object(f.c)({name:"endState",initialState:{end:!1,value:"success"},reducers:{setEnd:function(e,t){e.end=t.payload.hasEnded,e.value=t.payload.value}}}),Jt=Yt.actions.setEnd,Xt=function(e){return e.endState.end},Qt=function(e){return e.endState.value},Zt=Yt.reducer,$t=function(){var e=Object(Ue.a)().t,t=Object(b.b)(),n=function(){t(Jt({hasEnded:!0,value:"discarded"}))};return Object(l.c)("div",{css:[q,U,"",""],title:e("discard.confirm-tooltip"),role:"button",tabIndex:0,onClick:n,onKeyDown:function(e){" "!==e.key&&"Enter"!==e.key||n()}},Object(l.c)(u.a,{icon:d.r,size:"1x"}),Object(l.c)("span",null,e("discard.confirm-button")))},en=function(){var e=Object(Ue.a)().t,t=Object(b.c)(I),n=Object(l.b)({display:"Discard changes"!==t?"none":"flex",flexDirection:"column",alignItems:"center",gap:"30px"},"","");return Object(l.c)("div",{css:n,title:"Abort Area"},Object(l.c)("h1",null,e("discard.headline-text")),Object(l.c)("span",null,e("discard.info-text")),Object(l.c)("div",{css:Y},Object(l.c)(gn,{pageNumber:0,label:e("various.goBack-button"),iconName:d.d}),Object(l.c)($t,null)))},tn={status:"idle",error:void 0},nn=Object(f.b)("video/postVideoInformationWithWorkflow",function(){var e=Object(T.a)(D.a.mark((function e(t){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.mediaPackageId){e.next=2;break}throw new Error("Missing mediaPackageId");case 2:return e.next=4,Z.post("".concat(h.opencast.url,"/editor/").concat(h.mediaPackageId,"/edit.json"),{segments:zt(t.segments),tracks:t.tracks,workflows:t.workflow});case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),an=Object(f.c)({name:"workflowPostAndProcessState",initialState:tn,reducers:{},extraReducers:function(e){e.addCase(nn.pending,(function(e,t){e.status="loading"})),e.addCase(nn.fulfilled,(function(e,t){e.status="success"})),e.addCase(nn.rejected,(function(e,t){e.status="failed",e.error=t.error.message}))}}),rn=function(e){return e.workflowPostAndProcessState.status},on=function(e){return e.workflowPostAndProcessState.error},cn=an.reducer;var sn={name:"ygo0cj",styles:"padding:16px;box-shadow:0 0 10px rgba(0, 0, 0, 0.3)"},ln=function(e){var t=e.text,n=Object(b.b)(),a=Object(b.c)(He),r=Object(b.c)(Ee),i=Object(b.c)(Pe),o=Object(b.c)(Fe),c=Object(b.c)(rn),s=function(){n(nn({segments:i,tracks:o,workflow:[{id:a[r].id}]}))},f=d.g,p=!1;"loading"===c?(f=d.o,p=!0):"success"===c?(f=d.b,p=!1,n(Jt({hasEnded:!0,value:"success"}))):"failed"===c&&(f=d.f,p=!1);var g=sn;return Object(l.c)("div",{css:[q,g,"",""],title:"Start processing button",role:"button",tabIndex:0,onClick:s,onKeyDown:function(e){" "!==e.key&&"Enter"!==e.key||s()}},Object(l.c)(u.a,{icon:f,spin:p,size:"1x"}),Object(l.c)("span",null,t))},un=function(){var e=Object(Ue.a)().t,t=Object(b.c)(rn),n=Object(b.c)(on),a=Object(l.b)({display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",gap:"30px"},"","");return Object(l.c)("div",{css:a,title:e("workflowConfig.area-tooltip")},Object(l.c)("h2",null,e("workflowConfig.headline-text")),Object(l.c)(u.a,{icon:d.u,size:"10x"}),"Placeholder",Object(l.c)("div",null,e("workflowConfig.satisfied-text")),Object(l.c)("div",{css:Y},Object(l.c)(gn,{pageNumber:1,label:e("various.goBack-button"),iconName:d.d}),Object(l.c)(ln,{text:e("workflowConfig.confirm-button")})),Object(l.c)("div",{css:X("failed"===t),title:"Error Box",role:"alert"},Object(l.c)("span",null,e("various.error-text")),Object(l.c)("br",null),n?e("various.error-details-text",{errorMessage:n}):e("various.error-noDetails-text"),Object(l.c)("br",null)))},dn=n(125),bn=function(e){var t=e.stateName,n=e.workflowIndex,a=Object(Ue.a)().t,r=Object(b.b)(),i=Object(b.c)(Ee),o=function(){r(ve(n))},c=Object(l.b)({backgroundColor:n!==i?"snow":"#DDD",padding:"16px"},"","");return Object(l.c)("div",{css:[q,c,"",""],title:a("workflowSelection.selectWF-button"),role:"button",tabIndex:0,"aria-label":a("workflowSelection.selectWF-button",{stateName:t}),onClick:o,onKeyDown:function(e){" "!==e.key&&"Enter"!==e.key||o()}},Object(l.c)("span",null,t))},fn=function(){var e=Object(Ue.a)().t,t=Object(b.c)(He),n=Object(b.c)(I),a=Object(b.c)(C),r=Object(b.c)(Ee),i=Object(b.c)(rn),o=Object(b.c)(on),c=Object(b.c)(Kt),s=Object(b.c)(Gt),u=Object(l.b)({padding:"20px",display:"Start processing"===n&&1===a?"flex":"none",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"50px"},"",""),f=Object(l.b)({display:"flex",flexDirection:"column",alignItems:"left",gap:"20px",flexWrap:"wrap",maxHeight:"50vh"},"",""),p=function(n,a,r,i,c,s,b){return Object(l.c)("div",{css:u},Object(l.c)("h2",null,n),a,r&&Object(l.c)("div",{css:f,title:"Workflow Selection Area"},t.map((function(e,t){return Object(l.c)(bn,{key:t,stateName:e.name,workflowIndex:t})}))),i,Object(l.c)("div",{css:Y},Object(l.c)(gn,{pageNumber:0,label:e("workflowSelection.back-button"),iconName:d.d}),c),Object(l.c)("div",{css:X("failed"===s),title:"Error Box",role:"alert"},Object(l.c)("span",null,e("error-text")),Object(l.c)("br",null),b?e("various.error-details-text",{errorMessage:o}):e("various.error-noDetails-text"),Object(l.c)("br",null)))};return t.length<=0?p(e("workflowSelection.saveAndProcess-text"),Object(l.c)(dn.a,{i18nKey:"workflowSelection.noWorkflow-text"},"A problem occured, there are no workflows to process your changes with.",Object(l.c)("br",null),"Please save your changes and contact an Opencast Administrator."),!1,"",Object(l.c)(qt,null),c,s):1===t.length?p(e("workflowSelection.saveAndProcess-text"),Object(l.c)(dn.a,{i18nKey:"workflowSelection.oneWorkflow-text"},'The video will be cut and processed with the workflow "',{workflow:t[0].name},'".',Object(l.c)("br",null),"This will take some time."),!1,"",Object(l.c)(ln,{text:e("workflowSelection.startProcessing-button")}),i,o):p(e("workflowSelection.selectWF-text"),Object(l.c)("div",null,e("workflowSelection.manyWorkflows-text")),!0,Object(l.c)("div",null,Object(l.c)("i",null,t.length>r&&t[r].description?t[r].description:"\xa0")),Object(l.c)(ln,{text:e("workflowSelection.startProcessing-button")}),i,o)};var pn={name:"1666ohp",styles:"width:200px;padding:16px;box-shadow:0 0 10px rgba(0, 0, 0, 0.3);justify-content:space-around"},gn=function(e){var t=e.pageNumber,n=e.label,a=e.iconName,r=Object(b.b)(),i=function(){r(S(t))},o=pn;return Object(l.c)("div",{css:[q,o,"",""],role:"button",tabIndex:0,onClick:i,onKeyDown:function(e){" "!==e.key&&"Enter"!==e.key||i()}},Object(l.c)(u.a,{icon:a,size:"1x"}),Object(l.c)("span",null,n))},hn=function(){var e=Object(b.c)(C),t=Object(l.b)({display:0!==e?"none":"block"},"",""),n=Object(l.b)({display:1!==e?"none":"block"},"",""),a=Object(l.b)({display:2!==e?"none":"block"},"","");return Object(l.c)("div",{title:"Finish"},Object(l.c)("div",{css:t},Object(l.c)(Bt,null)),Object(l.c)("div",{css:n},Object(l.c)(Ut,null),Object(l.c)(fn,null),Object(l.c)(en,null)),Object(l.c)("div",{css:a},Object(l.c)(un,null)))};var mn={name:"1d3w5wq",styles:"width:100%"},vn=function(){var e=Object(b.c)(O),t=Object(l.b)({display:e!==a.cutting?"none":"flex",flexDirection:"column",justifyContent:"space-around",gap:"20px",paddingRight:"20px",paddingLeft:"20px"},"",""),n=Object(l.b)({display:e!==a.finish?"none":"flex",flexDirection:"column",justifyContent:"space-around",gap:"20px",paddingRight:"20px",height:"100%"},"",""),r=Object(l.b)({display:e===a.cutting||e===a.finish?"none":"flex",flexDirection:"column",alignItems:"center",padding:"20px",gap:"20px"},"","");return Object(l.c)("main",{title:"MainMenuContext",css:mn,role:"main"},Object(l.c)("div",{css:t},Object(l.c)(mt,null),Object(l.c)(Nt,null),Object(l.c)(Tt,null)),Object(l.c)("div",{css:n},Object(l.c)(hn,null)),Object(l.c)("div",{css:r},Object(l.c)(u.a,{icon:d.u,size:"10x"}),"Placeholder"))};var jn={name:"1uqdbld",styles:"width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px;gap:20px"},On=function(){var e=Object(Ue.a)().t,t=function(){window.location.reload(!0)};return Object(l.c)("div",{css:[q,U,"",""],title:e("theEnd.startOver-tooltip"),role:"button",tabIndex:0,onClick:t,onKeyDown:function(e){" "!==e.key&&"Enter"!==e.key||t()}},Object(l.c)("span",null,e("theEnd.startOver-button")))},xn=function(){var e=Object(Ue.a)().t,t=Object(b.c)(Qt),n=Object(b.c)(Ne),a=jn;return Object(l.c)("div",{css:a,title:"The End"},Object(l.c)(u.a,{icon:"discarded"===t?d.r:d.c,size:"10x"}),Object(l.c)("div",null,"discarded"===t?e("theEnd.discarded-text"):"success"===t?e("theEnd.info-text",{duration:"".concat(new Date(2*n).toISOString().substr(11,8))}):void 0),"discarded"===t&&Object(l.c)(On,null))},wn=function(){var e=Object(b.c)(Xt),t={display:"flex",flexDirection:"row",height:"100%"};return Object(l.c)(i.a.Fragment,null,e?Object(l.c)(xn,null):Object(l.c)("div",{css:t,title:"Body"},Object(l.c)(Je,null),Object(l.c)(vn,null)))};var yn,kn=function(){return Object(l.c)("div",{className:"App"},Object(l.c)(_,null),Object(l.c)(wn,null))},Sn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,126)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),i(e),o(e)}))},In=Object(f.a)({reducer:{mainMenuState:x,finishState:A,videoState:Ke,workflowPostState:_t,workflowPostAndProcessState:cn,endState:Zt}}),Cn=Promise.race([B(),(yn=300,new Promise((function(e,t){return setTimeout(e,yn)})))]);Cn.then((function(){c.a.render(Object(l.c)(i.a.StrictMode,null,Object(l.c)(b.a,{store:In},Object(l.c)(kn,null))),document.getElementById("root"))}),(function(e){return t=Object(l.c)("p",null,"Fatal error while loading app: ".concat(e.message),Object(l.c)("br",null),"This might be caused by a incorrect configuration by the system administrator."),void c.a.render(t,document.getElementById("root"));var t})),Sn()},51:function(e){e.exports=JSON.parse('{"mainMenu":{"cutting-button":"Cutting","finish-button":"Finish","thumbnail-button":"Thumbnail","metadata-button":"Metadata","mainMenu-tooltip":"Main Menu","tooltip-aria":"Main Navigation"},"cuttingActions":{"cut-button":"Cut","cut-tooltip":"Split the segment at the current scrubber position","cut-tooltip-aria":"Cut. Split the segment at the current scrubber position","delete-button":"Delete","delete-restore-tooltip":"Mark or unmark the segment at the current position as to be deleted.","delete-restore-tooltip-aria":"Delete and Restore. Mark or unmark the segment at the current position as to be deleted.","restore-button":"Restore","mergeLeft-button":"Merge Left","mergeLeft-tooltip":"Combine the currently active segment with the segment to its left","mergeLeft-tooltip-aria":"Merge Left. Combine the currently active segment with the segment to its left","mergeRight-button":"Merge Right","mergeRight-tooltip":"Combine the currently active segment with the segment to its right","mergeRight-tooltip-aria":"Merge Right. Combine the currently active segment with the segment to its right"},"video":{"previewButton":"Preview Mode","previewButton-on-tooltip":"Skips deleted segments when playing the video. Currently on","previewButton-off-tooltip":"Skips deleted segments when playing the video. Currently off","previewButton-aria":"Enable or disable preview mode.","playButton-tooltip":"Play Button","time-duration-tooltip":"Playback time and duration","duration-aria":"Duration","time-aria":"Current time","comError-text":"A problem occured during communication with Opencast.","loadError-text":"An error has occured loading this video.","title-tooltip":"Video Title","presenter-tooltip":"Video Presenters","area-tooltip":"Video Area","area-player-tooltip":"Video Player Area","area-header-tooltip":"Video Area Header","controls-tooltip":"Video Controls"},"finishMenu":{"save-button":"Save changes","start-button":"Start processing","discard-button":"Discard changes"},"save":{"headline-text":"Save current project","confirm-button":"Yes, save changes","confirmButton-default-tooltip":"Save Button","confirmButton-attempting-tooltip":"Attempting to save","confirmButton-success-tooltip":"Saved successfully","confirmButton-failed-tooltip":"Save failed","info-text":"The video will not be processed but all cutting information will be stored in Opencast. You can continue your edit later.","success-tooltip-aria":"Saved successfully","saveArea-tooltip":"Save Area"},"discard":{"headline-text":"Discard changes","confirm-button":"Yes, discard changes","confirm-tooltip":"Discard changes button","info-text":"Discard all the changes you made? This cannot be undone!"},"theEnd":{"discarded-text":"All your changes are now lost forever. You can now close the editor.","startOver-button":"Let me start over!","startOver-tooltip":"Reload the page to start over","info-text":"Changes successfully saved to Opencast. Processing your changes may take up to {{duration}} hours. You can now close the editor.\\n"},"workflowSelection":{"saveAndProcess-text":"Save and Process","selectWF-text":"Select a workflow","noWorkflows-text":"A problem occured, there are no workflows to process your changes with.<3/> Please save your changes and contact an Opencast Administrator.\\n","oneWorkflow-text":"The video will be cut and processed with the workflow \\\\\\"{{workflow}}\\\\\\". <3/> This will take some time.\\n","manyWorkflows-text":"Select which workflow Opencast should use for processing.","startProcessing-button":"Start processing","back-button":"Take me back","selectWF-button":"Click to select this workflow","selectWF-button-aria":"Press to select the workflow: {{stateName}}\\n"},"timeline":{"generateWaveform-text":"Generating Waveform","segment-tooltip":"Segment {{segment}}","scrubber-tooltip":"Scrubber","dragHandle-tooltip":"dragHandle","scrubber-deleted-text-aria":"Scrubber. {{currentTime}}. Active segment: {{segment}}. Deleted. Controls: Alt+j and Alt+l to move the scrubber. Alt+i and Alt+k to increase/decrase the move delta.\\n","scrubber-alive-text-aria":"Scrubber. {{currentTime}}. Active segment: {{segment}}. Alive. Controls: Alt+j and Alt+l to move the scrubber. Alt+i and Alt+k to increase/decrase the move delta.\\n","segmentsDeleted-text-aria":"Segment {{index}}. Deleted. Start: {{start}}. End: {{end}}.\\n","segmentsAlive-text-aria":"Segment {{index}}. Alive. Start: {{start}}. End: {{end}}.\\n"},"workflowConfig":{"headline-text":"Workflow Configuration","area-tooltip":"Workflow Configuration Area","satisfied-text":"Satisfied with your configuration?","confirm-button":"Yes, start processing"},"various":{"error-details-text":"Details: {{errorMessage}}\\n","error-noDetails-text":"No error details are available.","error-text":"An error has occured. Please wait a bit and try again.","goBack-button":"No, take me back"}}')},66:function(e,t,n){}},[[123,1,2]]]);
//# sourceMappingURL=main.bd118a20.chunk.js.map
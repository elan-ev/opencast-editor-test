(this.webpackJsonpklipping=this.webpackJsonpklipping||[]).push([[0],{41:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);n(5);var c,a=n(1),i=n.n(a),r=n(16),o=n.n(r),s=(n(41),n(7)),d=n(9),l=n(0),u=n(6),b=n(3),f=n(2),j=n(8);!function(e){e.cutting="Cutting",e.metadata="Metadata",e.thumbnail="Thumbnail",e.finish="Finish"}(c||(c={}));var p={value:c.cutting},O=Object(j.c)({name:"mainMenuState",initialState:p,reducers:{setState:function(e,t){e.value=t.payload}}}),g=O.actions.setState,m=function(e){return e.mainMenuState.value},v=O.reducer,x=Object(j.c)({name:"finishState",initialState:{value:"Start processing",pageNumber:0},reducers:{setState:function(e,t){e.value=t.payload},setPageNumber:function(e,t){e.pageNumber=t.payload}}}),h=x.actions,y=h.setState,w=h.setPageNumber,S=function(e){return e.finishState.value},k=function(e){return e.finishState.pageNumber},C=x.reducer;var I=function(){return Object(l.c)(l.a,{styles:N})},N={name:"1bjjf7p",styles:"body{background-color:snow;font-size:medium;min-height:100vh;}"},D=Object(l.b)({borderRadius:"10px",cursor:"pointer",transitionDuration:"0.3s",transitionProperty:"transform","&:hover":{transform:"scale(1.1)"},"&:active":{transform:"scale(0.9)"},display:"flex",justifyContent:"center",alignItems:"center",gap:"10px",textAlign:"center"},""),P=Object(l.b)({display:"flex",flexDirection:"row",gap:"20px"},""),A=function(e){var t=e.iconName,n=e.stateName,a=Object(f.b)(),i=Object(f.c)(m),r=Object(l.b)(Object(d.a)(Object(d.a)({width:"100%",height:"100px"},i===n&&{backgroundColor:"#DDD"}),{},{flexDirection:"column"}),"");return Object(l.c)("div",{css:Object(s.a)([D,r],""),title:n,onClick:function(){a(g(n)),n===c.finish&&a(w(0))}},Object(l.c)(u.a,{icon:t,size:"2x"}),Object(l.c)("div",null,n))},z=function(){return Object(l.c)("div",{style:{borderRight:"1px solid #BBB",width:"100px",display:"flex",flexDirection:"column",flexShrink:0,alignItems:"center",padding:"20px",gap:"30px"},title:"MainMenu"},Object(l.c)(A,{iconName:b.j,stateName:c.cutting}),Object(l.c)(A,{iconName:b.k,stateName:c.metadata}),Object(l.c)(A,{iconName:b.m,stateName:c.thumbnail}),Object(l.c)(A,{iconName:b.q,stateName:c.finish}))},R=n(17),M=n(12),W=n.n(M),T=n(14),B=n(35);function E(e){return L.apply(this,arguments)}function L(){return(L=Object(T.a)(W.a.mark((function e(t){var n,c,a,i,r,o,s,l,u,b,f=arguments;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:{},c=n.body,a=Object(B.a)(n,["body"]),i={"Content-Type":"application/json"},r=btoa(unescape(encodeURIComponent("admin:opencast"))),o={Authorization:"Basic ".concat(r)},s=Object(d.a)(Object(d.a)({method:c?"POST":"GET"},a),{},{headers:Object(d.a)(Object(d.a)(Object(d.a)({},i),a.headers),o)}),c&&(s.body=JSON.stringify(c)),e.prev=6,e.next=9,window.fetch(t,s);case 9:return b=e.sent,e.next=12,b.text();case 12:if(u=e.sent,l=u.length?JSON.parse(u):"",!b.ok){e.next=16;break}return e.abrupt("return",l);case 16:throw new Error(b.statusText);case 19:return e.prev=19,e.t0=e.catch(6),e.abrupt("return",Promise.reject(e.t0.message?e.t0.message:l));case 22:case"end":return e.stop()}}),e,null,[[6,19]])})))).apply(this,arguments)}E.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return E(e,Object(d.a)(Object(d.a)({},t),{},{method:"GET"}))},E.post=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return E(e,Object(d.a)(Object(d.a)({},n),{},{body:t}))};var V=function(e,t){var n=Math.pow(10,t);return Math.round((e+Number.EPSILON)*n)/n},F={isPlaying:!1,currentlyAt:0,segments:[{id:Object(j.d)(),start:0,end:1,deleted:!1}],activeSegmentIndex:0,selectedWorkflowIndex:0,videoURLs:[],videoCount:0,duration:0,title:"",presenters:[],workflows:[],status:"idle",error:void 0},q=Object(j.b)("video/fetchVideoInformation",Object(T.a)(W.a.mark((function e(){var t;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("https://legacy.opencast.org/admin-ng/tools/ID-dual-stream-demo/editor.json");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),Y=Object(j.c)({name:"videoState",initialState:F,reducers:{setIsPlaying:function(e,t){e.isPlaying=t.payload},setCurrentlyAt:function(e,t){e.currentlyAt=V(t.payload,3),U(e)},setCurrentlyAtInSeconds:function(e,t){e.currentlyAt=V(1e3*t.payload,3),U(e)},addSegment:function(e,t){e.segments.push(t.payload)},cut:function(e){if(e.segments[e.activeSegmentIndex].start===e.currentlyAt||e.segments[e.activeSegmentIndex].end===e.currentlyAt)return e;var t={id:Object(j.d)(),start:e.segments[e.activeSegmentIndex].start,end:e.currentlyAt,deleted:!0},n={id:Object(j.d)(),start:e.currentlyAt,end:e.segments[e.activeSegmentIndex].end,deleted:!0};e.segments.splice(e.activeSegmentIndex,1,t,n)},markAsDeletedOrAlive:function(e){e.segments[e.activeSegmentIndex].deleted=!e.segments[e.activeSegmentIndex].deleted},setSelectedWorkflowIndex:function(e,t){e.selectedWorkflowIndex=t.payload},mergeLeft:function(e){G(e,e.activeSegmentIndex,e.activeSegmentIndex-1)},mergeRight:function(e){G(e,e.activeSegmentIndex,e.activeSegmentIndex+1)}},extraReducers:function(e){e.addCase(q.pending,(function(e,t){e.status="loading"})),e.addCase(q.fulfilled,(function(e,t){e.status="success",e.videoURLs=t.payload.previews.reduce((function(e,t){return e.push(t.uri),e}),[]),e.videoCount=t.payload.previews.length,e.duration=t.payload.duration,e.title=t.payload.title,e.presenters=t.payload.presenters,e.segments=J(t.payload.segments,t.payload.duration),e.workflows=t.payload.workflows.sort((function(e,t){return e.displayOrder>t.displayOrder?1:e.displayOrder<t.displayOrder?-1:0}))})),e.addCase(q.rejected,(function(e,t){e.status="failed",e.error=t.error.message}))}}),U=function(e){e.activeSegmentIndex=e.segments.findIndex((function(t){return t.start<=e.currentlyAt&&t.end>=e.currentlyAt})),e.activeSegmentIndex<0&&(e.activeSegmentIndex=0)},J=function(e,t){var n=[];return 0===e.length&&n.push({id:Object(j.d)(),start:0,end:t,deleted:!1}),e.forEach((function(e){n.push({id:Object(j.d)(),start:e.start,end:e.end,deleted:e.deleted})})),n},G=function(e,t,n){n<0||n>e.segments.length-1||(e.segments[t].start=Math.min(e.segments[t].start,e.segments[n].start),e.segments[t].end=Math.max(e.segments[t].end,e.segments[n].end),e.segments.splice(n,1),U(e))},H=Y.actions,_=H.setIsPlaying,K=H.setCurrentlyAt,Q=H.setCurrentlyAtInSeconds,X=(H.addSegment,H.cut),Z=H.markAsDeletedOrAlive,$=H.setSelectedWorkflowIndex,ee=H.mergeLeft,te=H.mergeRight,ne=function(e){return e.videoState.isPlaying},ce=function(e){return e.videoState.currentlyAt},ae=function(e){return e.videoState.currentlyAt/1e3},ie=function(e){return e.videoState.segments},re=function(e){return e.videoState.activeSegmentIndex},oe=function(e){return!e.videoState.segments[e.videoState.activeSegmentIndex].deleted},se=function(e){return e.videoState.selectedWorkflowIndex},de=function(e){return e.videoState.videoURLs},le=function(e){return e.videoState.videoCount},ue=function(e){return e.videoState.duration},be=function(e){return e.videoState.duration/1e3},fe=function(e){return e.videoState.title},je=function(e){return e.videoState.presenters},pe=function(e){return e.videoState.workflows},Oe=Y.reducer,ge=n(32),me=n.n(ge);var ve=function(e){var t=e.url,n=e.isMuted,c=Object(f.b)(),i=Object(f.c)(ne),r=Object(f.c)(ae),o=Object(f.c)(be),s=Object(a.useState)(!1),d=Object(R.a)(s,2),u=d[0],b=d[1],j=Object(a.useRef)(null);return Object(a.useEffect)((function(){!i&&j.current&&u&&j.current.seekTo(r,"seconds")})),Object(l.c)(me.a,{url:t,ref:j,width:"100%",height:"auto",playing:i,muted:n,onProgress:function(e){V(r,3)!==V(e.playedSeconds,3)&&c(Q(e.playedSeconds))},progressInterval:100,onReady:function(){b(!0)},onEnded:function(){c(_(!1)),c(Q(o))}})},xe={name:"vyrci0",styles:"cursor:pointer;transition-duration:0.3s;transition-property:transform;&:hover{transform:scale(1.1);}&:active{transform:scale(0.9);}"},he={name:"1gnq0uh",styles:"cursor:pointer;transition-duration:0.3s;transition-property:transform;&:hover{transform:scale(1.05);}"},ye={name:"1r139wu",styles:"display:inline-block;width:110px;"},we=function(){var e=Object(f.b)(),t=Object(f.c)(ne),n=Object(f.c)(ce),c=Object(a.useState)(!1),i=Object(R.a)(c,2),r=i[0],o=i[1],s=Object(l.b)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",padding:"10px"},""),d=Object(l.b)({display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",padding:"10px",gap:"50px"},""),j=xe,p=he;return Object(l.c)("div",{css:s,title:"Video Controls"},Object(l.c)("div",{css:d,title:"Video Controls Top Row"},Object(l.c)("div",{style:{display:"flex",gap:"10px"}},Object(l.c)(u.a,{icon:b.h,size:"1x"}),Object(l.c)(u.a,{css:p,icon:r?b.w:b.v,size:"1x",onClick:function(){return o(!r)}})),Object(l.c)(u.a,{css:j,icon:t?b.l:b.n,size:"2x",onClick:function(){return e(_(!t))}}),Object(l.c)("div",{css:ye},new Date(n||0).toISOString().substr(11,12))))},Se={name:"iqjf8m",styles:"font-size:large;"},ke=function(){var e=Object(f.c)(fe),t=Object(f.c)(je),n=Se;return Object(l.c)("div",{title:"Video Area Header"},Object(l.c)("div",{css:n,title:"Video Title"},e),Object(l.c)("div",{title:"Video Presenters"},"by ",t.join(", ")))},Ce=function(){var e,t=Object(f.b)(),n=Object(f.c)(de),c=Object(f.c)(le),i=Object(f.c)((function(e){return e.videoState.status})),r=Object(f.c)((function(e){return e.videoState.error}));Object(a.useEffect)((function(){"idle"===i&&t(q())}),[i,t]),"loading"===i?e=Object(l.c)("div",{className:"loader"},"Loading..."):"success"===i?e="":"failed"===i&&(e=Object(l.c)("div",null,r));for(var o=[],s=0;s<c;s++)o.push(Object(l.c)(ve,{key:s,url:n[s],isMuted:0===s}));var d=Object(l.b)({display:"flex",width:"auto",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"10px",borderBottom:"1px solid #BBB"},""),u=Object(l.b)({backgroundColor:"black",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%"},"");return Object(l.c)("div",{css:d,title:"Video Area"},e,Object(l.c)(ke,null),Object(l.c)("div",{css:u,title:"Video Player Area"},o),Object(l.c)(we,null))},Ie=n(33),Ne=n.n(Ie),De=n(34),Pe=n.p+"static/media/placeholder_waveform.d23b087b.png";var Ae={name:"190c1k3",styles:"height:230px;"},ze={name:"2q5poe",styles:"transform:scaleY(1.5) rotate(90deg);padding:5px;"},Re=function(e){var t=e.timelineWidth,n=Object(f.b)(),c=Object(f.c)(ne),i=Object(f.c)(ce),r=Object(f.c)(ue),o=Object(a.useState)({x:0,y:0}),s=Object(R.a)(o,2),d=s[0],j=s[1],p=Object(a.useState)(!1),O=Object(R.a)(p,2),g=O[0],m=O[1],v=Object(a.useRef)(0);Object(a.useEffect)((function(){i!==v.current&&(x(),v.current=i)}));var x=function(){var e=d.y;j({x:i/r*t,y:e})},h=Object(l.b)({backgroundColor:"rgba(255, 0, 0, 1)",height:"250px",width:"1px",position:"absolute",zIndex:2,boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)",display:"flex",justifyContent:"center",alignItems:"center"},""),y=Object(l.b)({backgroundColor:"rgba(255, 255, 255, 1)",borderRadius:"10px",height:"50px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)",cursor:g?"grabbing":"grab",transitionDuration:"0.3s",transitionProperty:"transform","&:hover":{transform:"scale(1.1)"},"&:active":{transform:"scale(0.9)"}},""),w=ze;return Object(l.c)(Ne.a,{onStart:function(){m(!0)},onStop:function(e,c){var a=c.x,i=c.y;j({x:a,y:i}),n(K(a/t*r)),m(!1)},axis:"x",bounds:"parent",position:d,disabled:c},Object(l.c)("div",{css:h,title:"Scrubber"},Object(l.c)("div",{css:y,title:"dragHandle"},Object(l.c)(u.a,{css:w,icon:b.a,size:"1x"}))))},Me=function(e){e.timelineWidth;var t=Object(f.c)(ie),n=Object(f.c)(ue),c=Object(f.c)(re),a=function(e,t){return e||t?e&&!t?"rgba(255, 0, 0, 0.4)":!e&&t?"rgba(0, 0, 200, 0.4)":e&&t?"rgba(200, 0, 0, 0.4)":void 0:"rgba(0, 0, 255, 0.4)"},i=Object(l.b)({display:"flex",flexDirection:"row",paddingTop:"10px"},"");return Object(l.c)("div",{css:i,title:"Segments"},t.map((function(e,t){return Object(l.c)("div",{key:e.id,title:"Segment",css:Object(s.a)({backgroundColor:a(e.deleted,c===t),borderRadius:"5px",borderStyle:"solid",borderColor:"white",borderWidth:"1px",boxSizing:"border-box",width:(e.end-e.start)/n*100+"%",height:"230px",zIndex:1},"")})})))},We=function(){var e=Object(De.a)(),t=e.ref,n=e.width,c=void 0===n?1:n,a=Object(l.b)({position:"relative",height:"250px",width:"100%"},"");return Object(l.c)("div",{ref:t,css:a,title:"Timeline"},Object(l.c)(Re,{timelineWidth:c}),Object(l.c)("div",{css:Ae},Object(l.c)("img",{alt:"waveform2",src:Pe,style:{position:"absolute",height:"230px",width:"100%",top:"10px"}}),Object(l.c)(Me,{timelineWidth:c})))},Te={padding:"16px",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)"},Be=function(e){var t=e.iconName,n=e.actionName,c=e.action,a=Object(f.b)();return Object(l.c)("div",{css:Object(s.a)([D,Te],""),title:n,onClick:function(){return c?a(c()):""}},Object(l.c)(u.a,{icon:t,size:"1x"}),Object(l.c)("span",null,n))},Ee=function(){var e=Object(f.b)(),t=Object(f.c)(oe);return Object(l.c)("div",{css:Object(s.a)([D,Te],""),title:t?"Delete":"Restore",onClick:function(){return e(Z())}},Object(l.c)(u.a,{icon:t?b.y:b.z,size:"1x"}),Object(l.c)("div",null,t?"Delete":"Restore"))},Le=function(){var e=Object(l.b)({display:"flex",flexDirection:"row",justifyContent:"space-between",gap:"30px"},""),t=Object(l.b)({display:"flex",flexDirection:"row",gap:"30px"},"");return Object(l.c)("div",{css:e},Object(l.c)("div",{css:t},Object(l.c)(Be,{iconName:b.f,actionName:"Cut",action:X}),Object(l.c)(Ee,null),Object(l.c)(Be,{iconName:b.s,actionName:"Merge Left",action:ee}),Object(l.c)(Be,{iconName:b.t,actionName:"Merge Right",action:te})),Object(l.c)("div",{css:t},Object(l.c)(Be,{iconName:b.o,actionName:"Reset changes",action:null}),Object(l.c)(Be,{iconName:b.o,actionName:"Undo",action:null})))},Ve=function(e){var t=e.iconName,n=e.stateName,c=Object(f.b)(),a=Object(l.b)({width:"250px",height:"220px",flexDirection:"column",fontSize:"x-large",gap:"30px",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)"},"");return Object(l.c)("div",{css:Object(s.a)([D,a],""),title:n,onClick:function(){c(y(n)),c(w(1))}},Object(l.c)(u.a,{icon:t,size:"2x"}),Object(l.c)("div",null,n))},Fe=function(){var e=Object(l.b)({display:"flex",flexDirection:"row",justifyContent:"space-around",gap:"30px"},"");return Object(l.c)("div",{css:e,title:"Finish Menu"},Object(l.c)(Ve,{iconName:b.p,stateName:"Save changes"}),Object(l.c)(Ve,{iconName:b.i,stateName:"Start processing"}),Object(l.c)(Ve,{iconName:b.u,stateName:"Discard changes"}))},qe={status:"idle",error:void 0},Ye=Object(j.b)("video/postVideoInformation",function(){var e=Object(T.a)(W.a.mark((function e(t){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.post("https://pyca.opencast.org/editor/".concat(t.mediaPackageId,"/edit.json"),{segments:Je(t.segments)});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ue=Object(j.c)({name:"workflowPostState",initialState:qe,reducers:{},extraReducers:function(e){e.addCase(Ye.pending,(function(e,t){e.status="loading"})),e.addCase(Ye.fulfilled,(function(e,t){e.status="success"})),e.addCase(Ye.rejected,(function(e,t){e.status="failed",e.error=t.error.message}))}}),Je=function(e){var t=[];return e.forEach((function(e){t.push({start:e.start,end:e.end,deleted:e.deleted,selected:!1})})),t},Ge=function(e){return e.workflowPostState.status},He=function(e){return e.workflowPostAndProcessState.error},_e=Ue.reducer;var Ke={name:"1eijd7m",styles:"width:200px;padding:16px;box-shadow:0 0 10px rgba(0, 0, 0, 0.3);justify-content:space-around;"},Qe=function(){var e=Object(f.b)(),t=Object(f.c)(ie),n=Object(f.c)(Ge),c=b.p,a=!1;"loading"===n?(c=b.r,a=!0):"success"===n?(c=b.b,a=!1):"failed"===n&&(c=b.g,a=!1);var i=Ke;return Object(l.c)("div",{css:Object(s.a)([D,i],""),title:"Save Button",onClick:function(){return e(Ye({segments:t,mediaPackageId:"9bf8aec2-10f5-4c64-bfde-2752fa3a394d"}))}},Object(l.c)(u.a,{icon:c,spin:a,size:"1x"}),Object(l.c)("span",null,"Yes, Save changes"))},Xe=function(){var e=Object(f.c)(S),t=Object(f.c)(Ge),n=Object(f.c)(He),c=Object(l.b)({height:"100%",display:"Save changes"!==e?"none":"flex",flexDirection:"column",alignItems:"center",gap:"30px"},""),a=Object(l.b)(Object(d.a)(Object(d.a)({},"failed"!==t&&{display:"none"}),{},{borderColor:"red",borderStyle:"dashed",fontWeight:"bold",padding:"10px"}),"");return Object(l.c)("div",{css:c,title:"Save Area"},Object(l.c)("span",null,"Save the changes you made, but the video will not be cut yet. ",Object(l.c)("br",null),'To make Opencast cut the video, please select "Process". ',Object(l.c)("br",null),"Doth thou truly wish tah save?"),Object(l.c)("div",{css:P},Object(l.c)(mt,{pageNumber:0,label:"No, take me back",iconName:b.d}),Object(l.c)(Qe,null)),Object(l.c)("div",{css:a,title:"Error Box"},Object(l.c)("span",null,"An error has occured. Please wait a bit and try again. Details: "),Object(l.c)("br",null),n,Object(l.c)("br",null)))},Ze=Object(j.c)({name:"abortState",initialState:{value:!1},reducers:{setState:function(e,t){e.value=t.payload}}}),$e=Ze.actions.setState,et=function(e){return e.abortState.value},tt=Ze.reducer;var nt={name:"1eijd7m",styles:"width:200px;padding:16px;box-shadow:0 0 10px rgba(0, 0, 0, 0.3);justify-content:space-around;"},ct=function(){var e=Object(f.b)(),t=nt;return Object(l.c)("div",{css:Object(s.a)([D,t],""),title:"Discard changes button",onClick:function(){return e($e(!0))}},Object(l.c)(u.a,{icon:b.u,size:"1x"}),Object(l.c)("span",null,"Yes, discard changes"))},at=function(){var e=Object(f.c)(S),t=Object(l.b)({display:"Discard changes"!==e?"none":"flex",flexDirection:"column",alignItems:"center",gap:"30px"},"");return Object(l.c)("div",{css:t,title:"Abort Area"},Object(l.c)("span",null,"Discard all the changes you made? They will be lost forever! ",Object(l.c)("br",null),"Doth thou truly wish tah abort?"),Object(l.c)("div",{css:P},Object(l.c)(mt,{pageNumber:0,label:"No, take me back",iconName:b.d}),Object(l.c)(ct,null)))},it=function(e){var t=e.stateName,n=e.workflowIndex,c=Object(f.b)(),a=Object(f.c)(se),i=Object(l.b)({backgroundColor:n!==a?"snow":"#DDD",padding:"16px"},"");return Object(l.c)("div",{css:Object(s.a)([D,i],""),title:"Workflow Button for "+t,onClick:function(){return c($(n))}},Object(l.c)("span",null,t))},rt=function(){var e=Object(f.c)(pe),t=Object(f.c)(S),n=Object(f.c)(k),c=Object(l.b)({display:"Start processing"===t&&1===n?"flex":"none",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"50px"},""),a=Object(l.b)({display:"flex",flexDirection:"column",alignItems:"left",gap:"20px"},"");return Object(l.c)("div",{css:c},Object(l.c)("h2",null,"Select a workflow"),Object(l.c)("div",{css:a,title:"Workflow Selection Area"},e.map((function(e,t){return Object(l.c)(it,{key:t,stateName:e.name,workflowIndex:t})}))),Object(l.c)("div",null,"And this is where I would put a workflow description.... if I had one!"),Object(l.c)("div",{css:P},Object(l.c)(mt,{pageNumber:0,label:"Take me back",iconName:b.d}),Object(l.c)(mt,{pageNumber:2,label:"Continue",iconName:b.e})))},ot={status:"idle",error:void 0},st=Object(j.b)("video/postVideoInformationWithWorkflow",function(){var e=Object(T.a)(W.a.mark((function e(t){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.post("https://pyca.opencast.org/editor/".concat(t.mediaPackageId,"/edit.json"),{segments:lt(t.segments),worklows:t.workflowID});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),dt=Object(j.c)({name:"workflowPostAndProcessState",initialState:ot,reducers:{},extraReducers:function(e){e.addCase(st.pending,(function(e,t){e.status="loading"})),e.addCase(st.fulfilled,(function(e,t){e.status="success"})),e.addCase(st.rejected,(function(e,t){e.status="failed",e.error=t.error.message}))}}),lt=function(e){var t=[];return e.forEach((function(e){t.push({start:e.start,end:e.end,deleted:e.deleted,selected:!1})})),t},ut=function(e){return e.workflowPostAndProcessState.status},bt=function(e){return e.workflowPostAndProcessState.error},ft=dt.reducer;var jt={name:"1wbzqqt",styles:"padding:16px;box-shadow:0 0 10px rgba(0, 0, 0, 0.3);"},pt=function(){var e=Object(f.b)(),t=Object(f.c)(pe),n=Object(f.c)(se),c=Object(f.c)(ie),a=Object(f.c)(ut),i=b.i,r=!1;"loading"===a?(i=b.r,r=!0):"success"===a?(i=b.b,r=!1):"failed"===a&&(i=b.g,r=!1);var o=jt;return Object(l.c)("div",{css:Object(s.a)([D,o],""),title:"Start processing button",onClick:function(){return e(st({segments:c,mediaPackageId:"9bf8aec2-10f5-4c64-bfde-2752fa3a394d",workflowID:t[n]}))}},Object(l.c)(u.a,{icon:i,spin:r,size:"1x"}),Object(l.c)("span",null,"Yes, start processing"))},Ot=function(){var e=Object(f.c)(ut),t=Object(f.c)(bt),n=Object(l.b)({display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",gap:"30px"},""),c=Object(l.b)(Object(d.a)(Object(d.a)({},"failed"!==e&&{display:"none"}),{},{borderColor:"red",borderStyle:"dashed",fontWeight:"bold",padding:"10px"}),"");return Object(l.c)("div",{css:n,title:"Workflow Configuration Area"},Object(l.c)("h2",null,"Workflow Configuration"),Object(l.c)(u.a,{icon:b.x,size:"10x"}),"Placeholder",Object(l.c)("div",null,"Satisfied with your configuration?"),Object(l.c)("div",{css:P},Object(l.c)(mt,{pageNumber:1,label:"No, take me back",iconName:b.d}),Object(l.c)(pt,null)),Object(l.c)("div",{css:c,title:"Error Box"},Object(l.c)("span",null,"An error has occured. Please wait a bit and try again. Details: "),Object(l.c)("br",null),t))};var gt={name:"1eijd7m",styles:"width:200px;padding:16px;box-shadow:0 0 10px rgba(0, 0, 0, 0.3);justify-content:space-around;"},mt=function(e){var t=e.pageNumber,n=e.label,c=e.iconName,a=Object(f.b)(),i=gt;return Object(l.c)("div",{css:Object(s.a)([D,i],""),title:n,onClick:function(){return a(w(t))}},Object(l.c)(u.a,{icon:c,size:"1x"}),Object(l.c)("span",null,n))},vt=function(){var e=Object(f.c)(k),t=Object(l.b)({display:0!==e?"none":"block"},""),n=Object(l.b)({display:1!==e?"none":"block"},""),c=Object(l.b)({display:2!==e?"none":"block"},"");return Object(l.c)("div",{title:"Finish"},Object(l.c)("div",{css:t},Object(l.c)(Fe,null)),Object(l.c)("div",{css:n},Object(l.c)(Xe,null),Object(l.c)(rt,null),Object(l.c)(at,null)),Object(l.c)("div",{css:c},Object(l.c)(Ot,null)))};var xt={name:"8atqhb",styles:"width:100%;"},ht=function(){var e=Object(f.c)(m),t=Object(l.b)({width:"100%",display:e!==c.cutting?"none":"flex",flexDirection:"column",justifyContent:"space-around",gap:"20px",paddingRight:"20px",paddingLeft:"20px"},""),n=Object(l.b)({display:e!==c.finish?"none":"flex",width:"100%",flexDirection:"column",justifyContent:"space-around",gap:"20px",paddingRight:"20px",height:"100%"},""),a=Object(l.b)({display:e===c.cutting||e===c.finish?"none":"flex",flexDirection:"column",alignItems:"center",padding:"20px",gap:"20px"},"");return Object(l.c)("div",{title:"MainMenuContext",css:xt},Object(l.c)("div",{css:t,title:"Cutting Container"},Object(l.c)(Ce,null),Object(l.c)(Le,null),Object(l.c)(We,null)),Object(l.c)("div",{css:n,title:"Finish Container"},Object(l.c)(vt,null)),Object(l.c)("div",{css:a},Object(l.c)(u.a,{icon:b.x,size:"10x"}),"Placeholder"))};var yt={name:"2ts5ex",styles:"width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px;gap:20px;"},wt=function(){var e=Object(f.c)(et),t=Object(f.c)(ut),n=Object(f.c)(ue),c=yt;return Object(l.c)("div",{css:c,title:"The last area"},Object(l.c)(u.a,{icon:e?b.u:"success"===t?b.c:b.o,size:"10x"}),e?"You really did it. All your changes are now lost forever. You can now continue doing whatever you want.":"success"===t?"Changes successfully saved to Opencast. Processing your changes may take up to\n              ".concat(new Date(2*n).toISOString().substr(11,8)," hours.\n              You can now close the editor."):"Now this is awkward. Something has gone very wrong.")},St=function(){var e=Object(f.c)(et),t=Object(f.c)(ut),n={display:"flex",flexDirection:"row",height:"100%"};return Object(l.c)(i.a.Fragment,null,e||"success"===t?Object(l.c)(wt,null):Object(l.c)("div",{css:n,title:"Body"},Object(l.c)(z,null),Object(l.c)(ht,null)))};var kt=function(){return Object(l.c)("div",{className:"App"},Object(l.c)(I,null),Object(l.c)(St,null))},Ct=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))},It=Object(j.a)({reducer:{mainMenuState:v,finishState:C,videoState:Oe,workflowPostState:_e,workflowPostAndProcessState:ft,abortState:tt}});o.a.render(Object(l.c)(i.a.StrictMode,null,Object(l.c)(f.a,{store:It},Object(l.c)(kt,null))),document.getElementById("root")),Ct()}},[[72,1,2]]]);
//# sourceMappingURL=main.9fe4ad14.chunk.js.map